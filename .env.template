# TG ONE 配置模板 (.env.template)
# 复制此文件为 .env 并填写必要信息

# === 基础配置 ===
APP_ENV=development
DEBUG=false

# === Telegram API 配置 (必填) ===
# 从 https://my.telegram.org/apps 获取
API_ID=
API_HASH=
# Bot Token (从 @BotFather 获取)
BOT_TOKEN=
# 用户账号登录用的手机号 (格式如: +8613812345678)
PHONE_NUMBER=
# 用户ID (从 @userinfobot 获取)
USER_ID=
# 系统管理员 ID (可选, 逗号分隔)
ADMIN_IDS=

# === 数据库配置 ===
# 格式: sqlite+aiosqlite:///db/forward.db
DATABASE_URL=sqlite+aiosqlite:///db/forward.db
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_ECHO=false

# === Web 服务配置 ===
WEB_ENABLED=true
WEB_HOST=0.0.0.0
WEB_PORT=8080
WEB_ADMIN_USERNAME=admin
WEB_ADMIN_PASSWORD=admin_password
# JWT 密钥，为空则自动生成 (建议固定以保持会话持久)
SECRET_KEY=
JWT_ALGORITHM=HS256

# === 路径配置 (通常维持默认) ===
# DOWNLOAD_DIR=./downloads
# SESSION_DIR=./sessions
# LOG_DIR=./logs
# DB_DIR=./db
# BACKUP_DIR=./backups
# FORWARD_RECORDER_DIR=./zhuanfaji

# === 日志配置 ===
LOG_LEVEL=INFO
LOG_FORMAT=text
LOG_COLOR=true
LOG_KEY_ONLY=false
LOG_MUTE_LOGGERS=telethon.client.updates,utils.api_optimization

# === 媒体处理 ===
MAX_MEDIA_SIZE=2000.0  # MB

# === RSS 配置 ===
RSS_ENABLED=false
RSS_SECRET_KEY=
RSS_PORT=8000
RSS_BASE_URL=

# === API 优化配置 ===
ENABLE_KEYWORD_SEARCH_API=true
ENABLE_MEDIA_INFO_OPTIMIZATION=true
FORWARD_ENABLE_BATCH_API=true
FORWARD_MAX_BATCH_SIZE=50
FORWARD_MIN_BATCH_SIZE=2

# === 算法与去重 ===
BLOOM_BITS=16777216
DEDUP_PERSIST_TTL_SECONDS=2592000
DUP_SCAN_PAGE_SIZE=50

# === AI 提供者 (可选) ===
# DEFAULT_AI_MODEL=gpt-4o
# OPENAI_API_KEY=
# GEMINI_API_KEY=
# DEEPSEEK_API_KEY=

# === 运维与权限 ===
# USERNAME=  # 覆写 Windows USERNAME (用于文件权限修复)

# === 进阶日志配置 ===
TELETHON_LOG_LEVEL=WARNING
DRY_RUN_LOG_LEVEL=INFO
API_LOG_LEVEL=WARNING
ENABLE_API_DEBUG=false

# === 数据库维护 ===
ENABLE_DB_HEALTH_CHECK=true
ENABLE_DB_AUTO_REPAIR=true

# === 日志推送 (Telegram) ===
LOG_PUSH_TG_ENABLE=false
LOG_PUSH_TG_BOT_TOKEN=
LOG_PUSH_TG_CHAT_ID=
LOG_PUSH_TG_LEVEL=ERROR

# === 自动化任务 ===
CLEANUP_CRON_TIMES=["03:30"]
AUTO_ARCHIVE_ENABLED=true
AUTO_GC_ENABLED=true

# === Redis (可选) ===
# REDIS_URL=redis://localhost:6379/0
