# é¡¹ç›®å¾…åŠäº‹é¡¹ (TODO) - v2.0 å…¨å›¾å½¢åŒ–ç‰ˆæœ¬

> **æ›´æ–°æ—¶é—´**: 2026-01-08 18:20
> **çŠ¶æ€å›¾ä¾‹**: â³å¾…å¼€å§‹ | ğŸš§è¿›è¡Œä¸­ | âœ…å·²å®Œæˆ | â¸ï¸æš‚åœ | âŒå–æ¶ˆ

---

## ğŸ¯ å½“å‰ä¼˜å…ˆçº§ä»»åŠ¡

### ğŸ”¥ P0 (ç´§æ€¥é‡è¦)
- [ ] **Webç«¯UIç¾åŒ– - å…¨å›¾å½¢åŒ–** ğŸš§ [è¯¦è§: web_ui_beautification_plan.md v2.0]
  - [ ] Task 1: Dashboardæ•°æ®å¯è§†åŒ– (3h)
  - [ ] Task 2: è§„åˆ™åˆ›å»ºå‘å¯¼ (1.5h)
  - [ ] Task 3: å…³é”®å­—ç®¡ç†é¢æ¿ (1.5h)

### ğŸŒŸ P1 (é‡è¦ä¸ç´§æ€¥)
- [ ] **åç«¯APIæ‰©å±•**
  - [ ] æ‰¹é‡æ“ä½œæ¥å£ (`/api/rules/batch/*`)
  - [ ] å…¨å±€æœç´¢æ¥å£ (`/api/search`)
  - [ ] å»é‡ç®¡ç†æ¥å£ (`/api/dedup/*`)

- [ ] **æ–‡æ¡£è¡¥å…¨**
  - [ ] APIæ¥å£æ–‡æ¡£ (Swagger/OpenAPI)
  - [ ] ç”¨æˆ·æ‰‹å†Œï¼ˆå›¾å½¢åŒ–æ“ä½œæŒ‡å—ï¼‰
  - [ ] éƒ¨ç½²æ–‡æ¡£ (Docker Compose)

### ğŸ“Œ P2 (å¯å»¶å)
- [ ] **æ€§èƒ½ä¼˜åŒ–**
  - [ ] è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¤§é‡è§„åˆ™æ—¶ï¼‰
  - [ ] å‰ç«¯èµ„æºæ‡’åŠ è½½
  - [ ] å›¾ç‰‡/è§†é¢‘ç¼©ç•¥å›¾ç”Ÿæˆ

- [ ] **åŠŸèƒ½å¢å¼º**
  - [ ] è§„åˆ™æ¨¡æ¿å¸‚åœº
  - [ ] AIå…³é”®è¯æ¨è
  - [ ] å®šæ—¶ä»»åŠ¡å¯è§†åŒ–é…ç½®

---

## ğŸ“Š Webç«¯UIç¾åŒ–è¯¦ç»†æ¸…å• (å…¨å›¾å½¢åŒ–)

### âŒ å·²å–æ¶ˆçš„ä»»åŠ¡
- ~~Task: å‘½ä»¤è¡Œé¢æ¿å¼€å‘~~ (æ”¹ä¸ºå…¨å›¾å½¢åŒ–)
- ~~API: `/api/command/execute`~~ (ä¸éœ€è¦)

---

### Phase 1: Dashboardä»ªè¡¨ç›˜å¢å¼º (3h) âœ…

#### âœ… 1.1 æ•°æ®å¯è§†åŒ–å›¾è¡¨
- [x] **è½¬å‘è¶‹åŠ¿æŠ˜çº¿å›¾** (ECharts)
  ```javascript
  æ•°æ®æº: GET /api/stats/forward_trend?range=7d
  æ—¶é—´èŒƒå›´: 24h / 7d / 30d (åˆ‡æ¢æŒ‰é’®)
  å®æ—¶æ›´æ–°: WebSocket /ws/stats
  ```

- [x] **è§„åˆ™åˆ†å¸ƒé¥¼å›¾**
  ```javascript
  æ•°æ®æº: GET /api/stats/rule_distribution
  æ˜¾ç¤º: å¯ç”¨è§„åˆ™ vs ç¦ç”¨è§„åˆ™
  äº¤äº’: ç‚¹å‡»è·³è½¬åˆ°è§„åˆ™ç®¡ç†
  ```

- [x] **å®æ—¶æ´»åŠ¨æµ**
  ```javascript
  æ•°æ®æº: WebSocket /ws/logs
  æ˜¾ç¤º: æœ€æ–°100æ¡æ“ä½œæ—¥å¿—
  è¿‡æ»¤: INFO / WARN / ERROR
  è‡ªåŠ¨æ»šåŠ¨: æ–°æ—¥å¿—è‡ªåŠ¨æ»šåˆ°åº•éƒ¨
  ```

- [x] **èµ„æºç›‘æ§ä»ªè¡¨ç›˜**
  ```javascript
  CPU: ç¯å½¢ä»ªè¡¨ç›˜ (Gauge Chart)
  å†…å­˜: è¿›åº¦æ¡ + ç™¾åˆ†æ¯”
  ç½‘ç»œ: è¿·ä½ æŠ˜çº¿å›¾
  æ›´æ–°é¢‘ç‡: 5ç§’
  ```

#### âœ… 1.2 å¿«é€Ÿæ“ä½œå¡ç‰‡
- [x] æ–°å»ºè§„åˆ™æŒ‰é’® (æ‰“å¼€å‘å¯¼)
- [x] æŸ¥çœ‹æ—¥å¿—æŒ‰é’® (è·³è½¬åˆ°æ—¥å¿—é¡µ)
- [x] ç³»ç»Ÿè®¾ç½®æŒ‰é’®
- [x] æ•°æ®åº“ä¼˜åŒ–æŒ‰é’® (ä¸€é”®æ‰§è¡Œ)

**æ–‡ä»¶æ¸…å•**:
- âœ… `templates/dashboard.html` (å·²æ›´æ–°)
- â³ `static/js/dashboard_charts.js` (é›†æˆåœ¨dashboard.htmlä¸­)
- â³ `static/css/dashboard.css` (æ ·å¼é›†æˆåœ¨main.cssä¸­)

---

### Phase 2: è§„åˆ™ç®¡ç†å¯è§†åŒ–å¢å¼º (5h)

#### â³ 2.1 è§„åˆ™åˆ›å»ºå‘å¯¼
**æ›¿ä»£Botå‘½ä»¤**: `/bind <æº> [ç›®æ ‡]`

**å®ç°**: å¤šæ­¥éª¤å‘å¯¼ï¼ˆModalå¯¹è¯æ¡†ï¼‰

**æ­¥éª¤**:
```
Step 1: é€‰æ‹©æºèŠå¤©
  - ä¸‹æ‹‰é€‰æ‹©æ¡† (æ”¯æŒæœç´¢)
  - æ˜¾ç¤ºèŠå¤©é¢„è§ˆï¼ˆå¤´åƒã€åç§°ã€æˆå‘˜æ•°ï¼‰
  - æœ€è¿‘ä½¿ç”¨çš„èŠå¤©ï¼ˆå¿«æ·é€‰æ‹©ï¼‰

Step 2: é€‰æ‹©ç›®æ ‡èŠå¤©
  - åŒä¸Š
  - æ™ºèƒ½æ¨èï¼ˆå¸¸ç”¨ç»„åˆï¼‰

Step 3: åŸºç¡€é…ç½®
  - å¯ç”¨è§„åˆ™: Toggleå¼€å…³
  - å¯ç”¨å»é‡: Toggleå¼€å…³
  - è½¬å‘æ¨¡å¼: å•é€‰æ¡†ï¼ˆå®Œæ•´/åŸæ ·ï¼‰

Step 4: ç¡®è®¤åˆ›å»º
  - æ˜¾ç¤ºé…ç½®æ‘˜è¦
  - åˆ›å»ºæŒ‰é’®
```

**UIç»„ä»¶**:
- æ­¥éª¤è¿›åº¦æ¡ (1/4, 2/4, 3/4, 4/4)
- ä¸Šä¸€æ­¥/ä¸‹ä¸€æ­¥æŒ‰é’®
- èŠå¤©å¡ç‰‡é¢„è§ˆ

**API**:
- `GET /api/chats` (è·å–èŠå¤©åˆ—è¡¨)
- `POST /api/rules` (åˆ›å»ºè§„åˆ™)

#### â³ 2.2 å…³é”®å­—ç®¡ç†é¢æ¿
**æ›¿ä»£Botå‘½ä»¤**: `/add`, `/add_regex`, `/list_keyword`, `/remove_keyword`

**å®ç°**: åµŒå…¥å¼é¢æ¿ï¼ˆåœ¨è§„åˆ™è¯¦æƒ…é¡µï¼‰

**æ·»åŠ å…³é”®å­—åŒºåŸŸ**:
- [ ] å¤šè¡Œæ–‡æœ¬æ¡† (æ”¯æŒæ‰¹é‡ç²˜è´´)
- [ ] æ¨¡å¼åˆ‡æ¢å™¨:
  - æ™®é€šåŒ¹é… / æ­£åˆ™è¡¨è¾¾å¼ (Toggle)
  - ç™½åå• / é»‘åå• (Toggle)
  - åŒºåˆ†å¤§å°å†™ (Checkbox)
- [ ] æ·»åŠ æŒ‰é’®
- [ ] æ¸…ç©ºæŒ‰é’®

**å…³é”®å­—åˆ—è¡¨**:
- [ ] è¡¨æ ¼å±•ç¤º:
  | åºå· | å…³é”®å­— | ç±»å‹ | æ¨¡å¼ | æ“ä½œ |
  | --- | --- | --- | --- | --- |
  | 1 | example | æ™®é€š | ç™½åå• | [ç¼–è¾‘] [åˆ é™¤] |
- [ ] è¡Œå†…ç¼–è¾‘åŠŸèƒ½ï¼ˆåŒå‡»å¯ç”¨ï¼‰
- [ ] æ‰¹é‡æ“ä½œ:
  - å…¨é€‰/åé€‰
  - æ‰¹é‡åˆ é™¤
  - æ‰¹é‡å¯¼å‡º

**è¾…åŠ©åŠŸèƒ½**:
- [ ] æ­£åˆ™æµ‹è¯•å™¨ï¼ˆå¯¹è¯æ¡†ï¼‰:
  - æ­£åˆ™è¡¨è¾¾å¼è¾“å…¥
  - æµ‹è¯•æ–‡æœ¬è¾“å…¥
  - å®æ—¶åŒ¹é…ç»“æœ
- [ ] æ­£åˆ™è¯­æ³•é«˜äº®
- [ ] å¸¸ç”¨æ¨¡æ¿ï¼ˆä¸‹æ‹‰èœå•ï¼‰:
  - åŒ¹é…ç½‘å€
  - åŒ¹é…é‚®ç®±
  - åŒ¹é…æ‰‹æœºå·

**API**:
- `POST /api/rules/{id}/keywords` (æ·»åŠ )
- `GET /api/rules/{id}/keywords` (åˆ—è¡¨)
- `DELETE /api/rules/{id}/keywords` (åˆ é™¤)

#### â³ 2.3 æ›¿æ¢è§„åˆ™ç¼–è¾‘å™¨
**æ›¿ä»£Botå‘½ä»¤**: `/replace`, `/list_replace`, `/remove_replace`

**å®ç°**: å¡ç‰‡å¼ + å¯¹è¯æ¡†

**è§„åˆ™åˆ—è¡¨**:
- [ ] å¡ç‰‡å¸ƒå±€:
  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ åŒ¹é…: \d{11}            â”‚
  â”‚ â†“                       â”‚
  â”‚ æ›¿æ¢: [å·²éšè—]          â”‚
  â”‚                         â”‚
  â”‚ [ç¼–è¾‘] [åˆ é™¤] [æµ‹è¯•]   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```
- [ ] æ‹–æ‹½æ’åº
- [ ] å¯ç”¨/ç¦ç”¨å¼€å…³

**æ·»åŠ /ç¼–è¾‘å¯¹è¯æ¡†**:
- [ ] åŒ¹é…æ¨¡å¼è¾“å…¥æ¡†
- [ ] æ›¿æ¢å†…å®¹è¾“å…¥æ¡†ï¼ˆå¯ä¸ºç©º=åˆ é™¤ï¼‰
- [ ] æ­£åˆ™æ¨¡å¼å¼€å…³
- [ ] æµ‹è¯•åŒºåŸŸ:
  - æµ‹è¯•æ–‡æœ¬
  - æ›¿æ¢é¢„è§ˆ

**æ‰¹é‡æ“ä½œ**:
- [ ] å¯¼å…¥æ›¿æ¢è§„åˆ™ï¼ˆJSON/Excelï¼‰
- [ ] å¯¼å‡ºæ›¿æ¢è§„åˆ™
- [ ] å¤åˆ¶è§„åˆ™åˆ°å…¶ä»–è§„åˆ™

**API**:
- `POST /api/rules/{id}/replace-rules` (æ·»åŠ )
- `GET /api/rules/{id}/replace-rules` (åˆ—è¡¨)
- `DELETE /api/rules/{id}/replace-rules` (åˆ é™¤)

#### â³ 2.4 é«˜çº§ç­›é€‰é…ç½®
**æ›¿ä»£Botå‘½ä»¤**: `/set_duration`, `/set_resolution`, `/set_size`

**å®ç°**: æ»‘å— + è¾“å…¥æ¡†ç»„åˆ

**æ—¶é•¿ç­›é€‰**:
- [ ] åŒæ»‘å—èŒƒå›´é€‰æ‹©å™¨
  ```
  [0ç§’ â•â•â•â—â•â•â•â•â•â•â•â•â—â•â•â• 3600ç§’]
        30ç§’      300ç§’
  ```
- [ ] å¿«æ·é¢„è®¾æŒ‰é’®:
  - 15-30ç§’
  - 30-60ç§’
  - 1-5åˆ†é’Ÿ
  - ä¸é™

**åˆ†è¾¨ç‡ç­›é€‰**:
- [ ] å®½åº¦è¾“å…¥æ¡† + é«˜åº¦è¾“å…¥æ¡†
- [ ] æ¯”ä¾‹é”å®šå¼€å…³ (16:9 / 4:3 / è‡ªç”±)
- [ ] å¸¸ç”¨åˆ†è¾¨ç‡æŒ‰é’®:
  - 720p (1280x720)
  - 1080p (1920x1080)
  - 4K (3840x2160)

**æ–‡ä»¶å¤§å°ç­›é€‰**:
- [ ] èŒƒå›´æ»‘å—ï¼ˆè‡ªåŠ¨å•ä½è½¬æ¢ï¼‰
  ```
  [0MB â•â•â•â—â•â•â•â•â•â•â•â•â—â•â•â• 2GB]
        10MB      100MB
  ```
- [ ] é¢„è®¾æŒ‰é’®:
  - å°äº10MB
  - 10-100MB
  - 100MB-1GB
  - ä¸é™

**API**:
- `PUT /api/rules/{id}` (æ›´æ–°è§„åˆ™é…ç½®)

#### â³ 2.5 è§„åˆ™æµç¨‹å¯è§†åŒ–
**æ–°å¢åŠŸèƒ½**: æ˜¾ç¤ºè§„åˆ™æ‰§è¡Œæµç¨‹å›¾

**å®ç°**: SVGæµç¨‹å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æºèŠå¤©  â”‚â”€â”€â–¶â”‚å…³é”®å­—è¿‡æ»¤â”‚â”€â”€â–¶â”‚ æ›¿æ¢è§„åˆ™ â”‚â”€â”€â–¶â”‚ å»é‡ â”‚â”€â”€â–¶â”‚ç›®æ ‡èŠå¤© â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              âœ“ 3ä¸ªå…³é”®å­—    âœ“ 2æ¡è§„åˆ™    âœ“ å·²å¯ç”¨
```

**äº¤äº’**:
- [ ] ç‚¹å‡»æ¯ä¸ªèŠ‚ç‚¹æŸ¥çœ‹è¯¦æƒ…
- [ ] é«˜äº®æ˜¾ç¤ºæ¿€æ´»çš„ç­›é€‰å™¨
- [ ] æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯ï¼ˆåŒ¹é…æ•°é‡ç­‰ï¼‰

**æ–‡ä»¶æ¸…å•**:
- `templates/components/rule_creation_wizard.html` (æ–°å»º)
- `templates/components/keyword_manager.html` (æ–°å»º)
- `templates/components/replace_rule_editor.html` (æ–°å»º)
- `templates/components/advanced_filters.html` (æ–°å»º)
- `templates/components/rule_flow_diagram.html` (æ–°å»º)
- `static/js/rule_wizard.js` (æ–°å»º)
- `static/js/keyword_manager.js` (æ–°å»º)

---

### Phase 3: æ“ä½œä¼˜åŒ–ä¸äº¤äº’å¢å¼º (3h)

#### â³ 3.1 æ‰¹é‡æ“ä½œå·¥å…·æ 
**ä½ç½®**: è§„åˆ™åˆ—è¡¨é¡¶éƒ¨ï¼ˆå›ºå®šï¼‰

**åŠŸèƒ½**:
- [ ] å…¨é€‰/åé€‰å¤é€‰æ¡†
- [ ] å·²é€‰ä¸­æ•°é‡æ˜¾ç¤º
- [ ] æ‰¹é‡å¯ç”¨æŒ‰é’®
- [ ] æ‰¹é‡ç¦ç”¨æŒ‰é’®
- [ ] æ‰¹é‡åˆ é™¤æŒ‰é’®ï¼ˆéœ€ç¡®è®¤ï¼‰
- [ ] æ‰¹é‡å¯¼å‡ºæŒ‰é’®ï¼ˆJSON/Excelï¼‰

**ç¡®è®¤å¯¹è¯æ¡†**:
- [ ] åˆ é™¤å‰ç¡®è®¤ï¼ˆæ˜¾ç¤ºå½±å“æ•°é‡ï¼‰
- [ ] å±é™©æ“ä½œäºŒæ¬¡ç¡®è®¤ï¼ˆéœ€è¾“å…¥"ç¡®è®¤"ï¼‰

#### â³ 3.2 å…¨å±€æœç´¢ä¸ç­›é€‰
**ä½ç½®**: é¡¶éƒ¨å¯¼èˆªæ 

**å…¨å±€æœç´¢**:
- [ ] æœç´¢æ¡†ï¼ˆå¸¦å›¾æ ‡ï¼‰
- [ ] å¿«æ·é”®æ”¯æŒ (Ctrl+K)
- [ ] æœç´¢èŒƒå›´åˆ‡æ¢:
  - å…¨éƒ¨
  - è§„åˆ™
  - èŠå¤©
  - æ—¥å¿—
- [ ] å®æ—¶æœç´¢ç»“æœï¼ˆä¸‹æ‹‰æ˜¾ç¤ºï¼‰
- [ ] æœç´¢å†å²ï¼ˆæœ€è¿‘5æ¡ï¼‰

**é«˜çº§ç­›é€‰**:
- [ ] ç­›é€‰æŒ‰é’®ï¼ˆæ‰“å¼€ä¾§è¾¹æ ï¼‰
- [ ] ç­›é€‰æ¡ä»¶:
  - çŠ¶æ€ï¼ˆå¯ç”¨/ç¦ç”¨/å…¨éƒ¨ï¼‰
  - åˆ›å»ºæ—¶é—´ï¼ˆä»Šå¤©/æœ¬å‘¨/æœ¬æœˆ/è‡ªå®šä¹‰ï¼‰
  - è½¬å‘æ•°é‡ï¼ˆæ’åºï¼‰
- [ ] ä¿å­˜ç­›é€‰é¢„è®¾
- [ ] é‡ç½®ç­›é€‰

#### â³ 3.3 æ‹–æ‹½æ’åº
**åº”ç”¨åœºæ™¯**: è§„åˆ™åˆ—è¡¨ã€å…³é”®å­—åˆ—è¡¨

**å®ç°**:
- [ ] å¼•å…¥SortableJSåº“
- [ ] æ‹–æ‹½æ‰‹æŸ„å›¾æ ‡ï¼ˆâ‹®â‹®ï¼‰
- [ ] æ‹–æ‹½æ—¶åŠé€æ˜é¢„è§ˆ
- [ ] è‡ªåŠ¨ä¿å­˜æ–°é¡ºåº
- [ ] Toaståé¦ˆï¼ˆæ’åºå·²ä¿å­˜ï¼‰

#### â³ 3.4 é€šçŸ¥ç³»ç»Ÿ
**å®ç°**: Toast + é€šçŸ¥ä¸­å¿ƒ

**Toasté€šçŸ¥**:
- [ ] æˆåŠŸ Toast (ç»¿è‰²ã€è‡ªåŠ¨æ¶ˆå¤±3ç§’)
  ```
  âœ… è§„åˆ™åˆ›å»ºæˆåŠŸ
  ```
- [ ] é”™è¯¯ Toast (çº¢è‰²ã€5ç§’)
  ```
  âŒ åˆ é™¤å¤±è´¥: è§„åˆ™ä¸å­˜åœ¨
  ```
- [ ] è­¦å‘Š Toast (é»„è‰²ã€4ç§’)
  ```
  âš ï¸ å†…å­˜ä½¿ç”¨ç‡è¶…è¿‡80%
  ```
- [ ] ä¿¡æ¯ Toast (è“è‰²ã€3ç§’)
  ```
  â„¹ï¸ æ­£åœ¨åŒæ­¥æ•°æ®...
  ```

**é€šçŸ¥ä¸­å¿ƒ**:
- [ ] å³ä¸Šè§’é“ƒé“›å›¾æ ‡
- [ ] çº¢ç‚¹æç¤ºï¼ˆæœªè¯»æ•°é‡ï¼‰
- [ ] ä¸‹æ‹‰é¢æ¿:
  - æœ€è¿‘é€šçŸ¥åˆ—è¡¨
  - ä¸€é”®æ¸…ç©ºæŒ‰é’®
  - "æŸ¥çœ‹å…¨éƒ¨"é“¾æ¥
- [ ] é€šçŸ¥å†å²å­˜å‚¨ï¼ˆIndexedDBï¼‰

**æ–‡ä»¶æ¸…å•**:
- `templates/components/toast.html` (æ–°å»º)
- `templates/components/notification_center.html` (æ–°å»º)
- `static/js/notification.js` (æ–°å»º)

---

### Phase 4: å¯¼èˆªä¸å¸ƒå±€ä¼˜åŒ– (1h)

#### â³ 4.1 å·¦ä¾§å¯¼èˆªæ ä¼˜åŒ–
**äºŒçº§èœå•**:
- [ ] æ‰‹é£ç´å±•å¼€/æ”¶èµ·
- [ ] ç®­å¤´å›¾æ ‡æŒ‡ç¤ºçŠ¶æ€ (â–¼ / â–¶)
- [ ] æ¿€æ´»çŠ¶æ€é«˜äº®

**èœå•ç»“æ„**:
```
ğŸ“Š æ¦‚è§ˆ
  â””â”€ ä»ªè¡¨ç›˜ âœ“

âš™ï¸ æ ¸å¿ƒåŠŸèƒ½
  â”œâ”€ è½¬å‘è§„åˆ™
  â””â”€ å¯è§†åŒ–å›¾è°±

ğŸ“‹ ç›‘æ§ä¸å®¡è®¡
  â”œâ”€ å†å²è®°å½•
  â”œâ”€ ä»»åŠ¡é˜Ÿåˆ—
  â”œâ”€ ä¸‹è½½ç®¡ç†
  â””â”€ ç³»ç»Ÿæ—¥å¿—

ğŸ”§ ç³»ç»Ÿ
  â”œâ”€ ç”¨æˆ·ç®¡ç†
  â””â”€ ç³»ç»Ÿè®¾ç½®
```

#### â³ 4.2 é¡¶éƒ¨å·¥å…·æ å¢å¼º
- [ ] å…¨å±€æœç´¢æ¡†
- [ ] å¿«æ·æ“ä½œä¸‹æ‹‰èœå•
- [ ] é€šçŸ¥ä¸­å¿ƒå›¾æ ‡
- [ ] ç”¨æˆ·å¤´åƒ + ä¸‹æ‹‰èœå•:
  - ä¸ªäººèµ„æ–™
  - ç³»ç»Ÿè®¾ç½®
  - é€€å‡ºç™»å½•

#### â³ 4.3 é¢åŒ…å±‘å¯¼èˆª
**ä½ç½®**: ä¸»å†…å®¹åŒºé¡¶éƒ¨

**ç¤ºä¾‹**:
```
é¦–é¡µ / æ ¸å¿ƒåŠŸèƒ½ / è½¬å‘è§„åˆ™ / è§„åˆ™è¯¦æƒ… #123
```

#### â³ 4.4 å¿«é€Ÿæ“ä½œæµ®åŠ¨æŒ‰é’® (FAB)
**ä½ç½®**: å³ä¸‹è§’

**ä¸»æŒ‰é’®**: â• æ–°å»ºè§„åˆ™

**å±•å¼€èœå•** (ç‚¹å‡»ä¸»æŒ‰é’®):
- ğŸ“‹ æŸ¥çœ‹æ—¥å¿—
- âš™ï¸ ç³»ç»Ÿè®¾ç½®
- â¬†ï¸ è¿”å›é¡¶éƒ¨

---

### Phase 5: å»é‡ä¸æ•°æ®åº“ç®¡ç†å›¾å½¢åŒ– (1.5h)

#### â³ 5.1 å»é‡ç®¡ç†é¢æ¿
**æ›¿ä»£Botå‘½ä»¤**: `/dedup`, `/dedup_scan`

**ä½ç½®**: ç³»ç»Ÿè®¾ç½® > å»é‡ç®¡ç†æ ‡ç­¾é¡µ

**å…¨å±€å»é‡å¼€å…³**:
- [ ] å¤§å·Toggleå¼€å…³
- [ ] å®æ—¶çŠ¶æ€æ˜¾ç¤ºï¼ˆON/OFFï¼‰
- [ ] å½±å“è§„åˆ™æ•°é‡æç¤º
  ```
  å·²å¯ç”¨å»é‡ï¼Œå½±å“ 15 æ¡è§„åˆ™
  ```

**å»é‡æ‰«æ**:
- [ ] ä¸€é”®æ‰«ææŒ‰é’®
  ```
  [ğŸ” å¼€å§‹æ‰«æ]
  ```
- [ ] æ‰«æè¿›åº¦æ¡
  ```
  â”â”â”â”â”â”â”â”â”â” 65% (å·²æ‰«æ 1250/2000 æ¡æ¶ˆæ¯)
  ```
- [ ] æ‰«æç»“æœå¡ç‰‡:
  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ğŸ“Š æ‰«æç»“æœ              â”‚
  â”‚                          â”‚
  â”‚ é‡å¤æ¶ˆæ¯: 128 æ¡         â”‚
  â”‚ å ç”¨ç©ºé—´: 2.5GB          â”‚
  â”‚ å¯é‡Šæ”¾: 1.8GB            â”‚
  â”‚                          â”‚
  â”‚ [æŸ¥çœ‹è¯¦æƒ…] [æ‰¹é‡åˆ é™¤]   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

#### â³ 5.2 æ•°æ®åº“ç®¡ç†é¢æ¿
**æ›¿ä»£Botå‘½ä»¤**: `/db_info`, `/db_backup`, `/db_optimize`, `/db_health`

**ä½ç½®**: ç³»ç»Ÿè®¾ç½® > æ•°æ®åº“æ ‡ç­¾é¡µ

**æ•°æ®åº“ä¿¡æ¯å¡ç‰‡**:
- [ ] æ–‡ä»¶å¤§å°
- [ ] è¡¨æ•°é‡
- [ ] è®°å½•æ•°
- [ ] æœ€åå¤‡ä»½æ—¶é—´

**æ“ä½œæŒ‰é’®åŒºåŸŸ**:
- [ ] ç«‹å³å¤‡ä»½æŒ‰é’®
  ```
  [ğŸ’¾ ç«‹å³å¤‡ä»½]
  ```
  - ç‚¹å‡»åæ˜¾ç¤ºè¿›åº¦æ¡
  - å®ŒæˆåToastæç¤º
- [ ] ä¼˜åŒ–æ•°æ®åº“æŒ‰é’®
  ```
  [âš¡ ä¼˜åŒ–æ•°æ®åº“]
  ```
  - ä¸€é”®æ‰§è¡ŒVACUUM
  - æ˜¾ç¤ºä¼˜åŒ–æŠ¥å‘Š
- [ ] å¥åº·æ£€æŸ¥æŒ‰é’®
  ```
  [ğŸ” å¥åº·æ£€æŸ¥]
  ```
  - æ˜¾ç¤ºæ£€æŸ¥æŠ¥å‘Šå¯¹è¯æ¡†
- [ ] ä¸‹è½½å¤‡ä»½æŒ‰é’®
  ```
  [â¬‡ï¸ ä¸‹è½½å¤‡ä»½]
  ```

**API**:
- `GET /api/database/info` (æ•°æ®åº“ä¿¡æ¯)
- `POST /api/database/backup` (å¤‡ä»½)
- `POST /api/database/optimize` (ä¼˜åŒ–)
- `GET /api/database/health` (å¥åº·æ£€æŸ¥)

**æ–‡ä»¶æ¸…å•**:
- `templates/components/dedup_manager.html` (æ–°å»º)
- `templates/components/database_panel.html` (æ–°å»º)
- `static/js/dedup_manager.js` (æ–°å»º)

---

### Phase 6: ç§»åŠ¨ç«¯é€‚é… (2h)

#### â³ 6.1 å“åº”å¼å¸ƒå±€
**æ–­ç‚¹è°ƒæ•´**:
```css
/* æ‰‹æœºç«–å± */
@media (max-width: 576px) {
  ä¾§è¾¹æ éšè—ï¼Œæ”¹ä¸ºæŠ½å±‰
  åº•éƒ¨å¯¼èˆªæ æ˜¾ç¤º
  è¡¨æ ¼æ”¹ä¸ºå¡ç‰‡å¸ƒå±€
}

/* å¹³æ¿ç«–å± */
@media (min-width: 577px) and (max-width: 768px) {
  ä¾§è¾¹æ æŠ˜å 
  å›¾è¡¨å°ºå¯¸è°ƒæ•´
}

/* å¹³æ¿æ¨ªå± */
@media (min-width: 769px) and (max-width: 992px) {
  ä¾§è¾¹æ å±•å¼€
  åŒåˆ—å¸ƒå±€
}

/* æ¡Œé¢ */
@media (min-width: 993px) {
  å®Œæ•´å¸ƒå±€
  ä¸‰åˆ—å¸ƒå±€
}
```

#### â³ 6.2 ç§»åŠ¨ç«¯ä¸“å±åŠŸèƒ½
**åº•éƒ¨å¯¼èˆªæ ** (< 768pxæ˜¾ç¤º):
- [ ] å›ºå®šåœ¨åº•éƒ¨
- [ ] å›¾æ ‡ + æ–‡å­—
- [ ] æ¿€æ´»çŠ¶æ€é«˜äº®
  ```
  [ğŸ“Š ä»ªè¡¨ç›˜] [âš™ï¸ è§„åˆ™] [ğŸ“‹ æ—¥å¿—] [â‹¯ æ›´å¤š]
  ```

**æŠ½å±‰å¼ä¾§è¾¹æ **:
- [ ] ä»å·¦ä¾§æ»‘å‡º
- [ ] é®ç½©å±‚ï¼ˆç‚¹å‡»å…³é—­ï¼‰
- [ ] æ‰‹åŠ¿æ»‘åŠ¨å…³é—­

**è§¦æ‘¸ä¼˜åŒ–**:
- [ ] å·¦æ»‘åˆ é™¤ï¼ˆè§„åˆ™åˆ—è¡¨ï¼‰
  ```
  â† æ»‘åŠ¨æ˜¾ç¤ºåˆ é™¤æŒ‰é’®
  ```
- [ ] ä¸‹æ‹‰åˆ·æ–°
  ```
  â†“ ä¸‹æ‹‰é‡Šæ”¾åˆ·æ–°
  ```
- [ ] åŒå‡»è¿”å›é¡¶éƒ¨

**æ–‡ä»¶æ¸…å•**:
- `static/css/mobile.css` (æ–°å»º)
- `static/js/mobile.js` (æ–°å»º)

---

## ğŸ”§ åç«¯APIæ–°å¢æ¥å£

### æ‰¹é‡æ“ä½œ
- [ ] `POST /api/rules/batch/enable` - æ‰¹é‡å¯ç”¨è§„åˆ™
- [ ] `POST /api/rules/batch/disable` - æ‰¹é‡ç¦ç”¨è§„åˆ™
- [ ] `POST /api/rules/batch/delete` - æ‰¹é‡åˆ é™¤è§„åˆ™
- [ ] `POST /api/rules/batch/export` - æ‰¹é‡å¯¼å‡ºè§„åˆ™

### å…¨å±€æœç´¢
- [ ] `GET /api/search?q=<keyword>&scope=<all|rules|chats|logs>` - å…¨å±€æœç´¢

### å»é‡ç®¡ç†
- [ ] `GET /api/dedup/status` - è·å–å»é‡çŠ¶æ€
- [ ] `POST /api/dedup/toggle` - åˆ‡æ¢å»é‡å¼€å…³
- [ ] `POST /api/dedup/scan` - å¼€å§‹æ‰«æ
- [ ] `GET /api/dedup/scan/status` - æ‰«æè¿›åº¦
- [ ] `POST /api/dedup/clean` - æ¸…ç†é‡å¤æ–‡ä»¶

### æ•°æ®åº“ç®¡ç†
- [ ] `GET /api/database/info` - æ•°æ®åº“ä¿¡æ¯
- [ ] `POST /api/database/backup` - å¤‡ä»½æ•°æ®åº“
- [ ] `POST /api/database/optimize` - ä¼˜åŒ–æ•°æ®åº“
- [ ] `GET /api/database/health` - å¥åº·æ£€æŸ¥
- [ ] `GET /api/database/backups` - å¤‡ä»½åˆ—è¡¨
- [ ] `GET /api/database/download/<filename>` - ä¸‹è½½å¤‡ä»½

---

## ğŸ“Š è¿›åº¦è¿½è¸ª

| é˜¶æ®µ | ä»»åŠ¡æ•° | å·²å®Œæˆ | è¿›è¡Œä¸­ | å¾…å¼€å§‹ | å®Œæˆç‡ |
|------|--------|--------|--------|--------|--------|
| Phase 1 (Dashboard) | 2 | 2 | 0 | 0 | 100% âœ… |
| Phase 2 (è§„åˆ™ç®¡ç†) | 5 | 0 | 0 | 5 | 0% |
| Phase 3 (äº¤äº’ä¼˜åŒ–) | 4 | 0 | 0 | 4 | 0% |
| Phase 4 (å¯¼èˆªå¸ƒå±€) | 4 | 0 | 0 | 4 | 0% |
| Phase 5 (å»é‡/DB) | 2 | 0 | 0 | 2 | 0% |
| Phase 6 (ç§»åŠ¨ç«¯) | 2 | 0 | 0 | 2 | 0% |
| **æ€»è®¡** | **19** | **2** | **0** | **17** | **10.5%** |

---

## ğŸ”– æ ‡ç­¾è¯´æ˜
- `ğŸ”¥ P0` - ç´§æ€¥é‡è¦ï¼Œéœ€ç«‹å³å¤„ç†
- `ğŸŒŸ P1` - é‡è¦ä¸ç´§æ€¥ï¼Œä¼˜å…ˆçº§é«˜
- `ğŸ“Œ P2` - å¯å»¶åï¼Œæœ‰ç©ºæ—¶å¤„ç†
- `ğŸš§` - è¿›è¡Œä¸­
- `â³` - å¾…å¼€å§‹
- `âœ…` - å·²å®Œæˆ
- `â¸ï¸` - æš‚åœ
- `âŒ` - å·²å–æ¶ˆ

---

**æœ€åæ›´æ–°**: 2026-01-08 18:26 by Gemini AI Agent (v2.0 å…¨å›¾å½¢åŒ–ç‰ˆæœ¬)
**ä¸‹æ¬¡æ›´æ–°**: æ¯å¤©åŒæ­¥è¿›åº¦

---

## ğŸ“‹ Phase 1 å®ŒæˆæŠ¥å‘Š

âœ… **Phase 1: Dashboardæ•°æ®å¯è§†åŒ–** å·²äº 2026-01-08 18:26 å®Œæˆ

è¯¦ç»†æŠ¥å‘Šè¯·æŸ¥çœ‹: [`docs/phase1_dashboard_report.md`](./phase1_dashboard_report.md)

**æœ¬é˜¶æ®µæˆæœ**:
- âœ… å¿«é€Ÿæ“ä½œå¡ç‰‡ï¼ˆæ–°å»ºè§„åˆ™ã€æŸ¥çœ‹æ—¥å¿—ã€ä¼˜åŒ–æ•°æ®åº“ã€ç³»ç»Ÿè®¾ç½®ï¼‰
- âœ… å¢å¼ºçš„æŒ‡æ ‡å¡ç‰‡ï¼ˆä»Šæ—¥è½¬å‘ã€æ´»è·ƒè§„åˆ™ã€å»é‡ç¼“å­˜ã€ç³»ç»ŸçŠ¶æ€ï¼‰
- âœ… è½¬å‘è¶‹åŠ¿æŠ˜çº¿å›¾ï¼ˆæ”¯æŒ24h/7d/30dåˆ‡æ¢ï¼‰
- âœ… è§„åˆ™çŠ¶æ€é¥¼å›¾ï¼ˆå¯ç”¨/ç¦ç”¨/å¼‚å¸¸ï¼‰
- âœ… å®æ—¶æ´»åŠ¨æµï¼ˆæ—¥å¿—çº§åˆ«è¿‡æ»¤ï¼‰
- âœ… èµ„æºç›‘æ§ä»ªè¡¨ç›˜ï¼ˆCPU/å†…å­˜/ç£ç›˜/ç½‘ç»œï¼‰
- âœ… åç«¯API: `/api/stats/system_resources`

**äº¤ä»˜æ–‡ä»¶**:
- `web_admin/templates/dashboard.html` (å·²æ›´æ–°)
- `web_admin/fastapi_app.py` (æ–°å¢API)
- `docs/phase1_dashboard_report.md` (å®ŒæˆæŠ¥å‘Š)

