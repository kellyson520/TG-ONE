## üìÖ 2026-02-18 Êõ¥Êñ∞ÊëòË¶Å

### üöÄ v1.2.6.5: SQLite Á®≥ÂÆöÊÄß‰∏éÈîÅÂÆö‰øÆÂ§ç‰∏ìÈ°π (SQLite Stability & Lock Mitigation)
- **ÂºÇÊ≠•ÈáçËØïÊú∫Âà∂ (Async DB Retry)**:
    - **async_db_retry**: Êñ∞Âª∫ `core/helpers/db_utils.py`ÔºåÂÆûÁé∞Êô∫ËÉΩÂºÇÊ≠•ÈáçËØïË£ÖÈ•∞Âô®ÔºåÊîØÊåÅÊåáÊï∞ÈÄÄÈÅø (Exponential Backoff) ‰∏éÈöèÊú∫ÊäñÂä® (Jitter)„ÄÇ
    - **ÈÄªËæëÊã¶Êà™**: ‰ªÖÈíàÂØπ `OperationalError` ‰∏≠ÁöÑÈîÅÂÆö/ÂøôÁ¢åÁä∂ÊÄÅ (`locked`, `busy`) ËøõË°åÈáçËØïÔºåÁ°Æ‰øùÁû¨ÊÄÅÂÜ≤Á™ÅÂèØËá™ÊÑà„ÄÇ
    - **ÂÖ®ÈìæË∑ØË¶ÜÁõñ**: ÂÖ≥ÈîÆÂÜôÂÖ•Ë∑ØÂæÑÔºà`TaskRepository`, `StatsRepository`, `DedupRepository`ÔºâÂ∑≤ÂÖ®Èù¢Êé•ÂÖ•ÈáçËØï‰øùÊä§„ÄÇ
- **SQLite ÈÖçÁΩÆË∞É‰ºò (PRAGMA Optimization)**:
    - **busy_timeout**: Â∞ÜÊï∞ÊçÆÂ∫ìÁπÅÂøôË∂ÖÊó∂Êó∂Èó¥‰ªé 5s Êö¥ÂäõÊèêÂçáËá≥ **30s**ÔºåÂ§ßÂπÖÁºìËß£ÊûÅÁ´ØÂπ∂Âèë‰∏ãÁöÑÈîÅÂºÇÂ∏∏„ÄÇ
    - **ÊûÅËá¥ÊÄßËÉΩÂèÇÊï∞**: Ê∑±Â∫¶ÂêåÊ≠• `synchronous=NORMAL`, `temp_store=MEMORY`, `cache_size=-64000` (64MB) Á≠âÂèÇÊï∞Ëá≥ `Database` Ê†∏ÂøÉÂèä `DbFactory`„ÄÇ
    - **WAL Ê≤ªÁêÜ**: ÈôêÂà∂ WAL Êñá‰ª∂Â§ßÂ∞è (`journal_size_limit=20MB`)ÔºåÂú®‰øùËØÅÈ´òÊÄßËÉΩÁöÑÂêåÊó∂ÂÖºÈ°æÁ£ÅÁõòÂç´Áîü„ÄÇ
- **ÂÖºÂÆπÊÄß‰øùÈöú**:
    - ‰∏∫ÊóßÁâàÊú¨‰ª£Á†Å‰øùÁïô‰∫Ü `retry_on_db_lock` Âà´ÂêçÔºåÁ°Æ‰øùÂπ≥ÊªëÈáçÊûÑ„ÄÇ
- **È™åËØÅÁü©Èòµ**:
    - Â∑≤ÈÄöËøá `test_task_repo.py` Âπ∂Ë°åÂéãÊµãÊ®°ÊãüÂèä `py_compile` ÈùôÊÄÅËØ≠Ê≥ïÂàÜÊûê„ÄÇ

### üöÄ v1.2.6.4: ÁÉ≠ÂÜ∑ÂàÜÂ±ÇÂ≠òÂÇ®‰∏é‰∏áËÉΩÂΩíÊ°£Á≥ªÁªü (Phase 6+)
- **ÂàÜÂ±ÇÂ≠òÂÇ®Êû∂ÊûÑ (Tiered Storage)**:
    - **UniversalArchiver**: ÂÆûÁé∞‰∫ÜÈÄöÁî®ÁöÑ‰∏áËÉΩÂΩíÊ°£ÂºïÊìéÔºåÊîØÊåÅÂ∞Ü‰ªª‰ΩïÂ∏¶ÊúâÊó∂Èó¥Êà≥ÁöÑÊ®°ÂûãÊï∞ÊçÆÂΩíÊ°£Ëá≥ Parquet ÂÜ∑Â≠òÂÇ®„ÄÇ
    - **UnifiedQueryBridge**: ÂºïÂÖ•Âü∫‰∫é DuckDB ÁöÑÁªü‰∏ÄÊü•ËØ¢Ê°•Êé•ÔºåÊîØÊåÅÂêåÊó∂‰ªé SQLite (Hot) Âíå Parquet (Cold) ‰∏≠ËÅîÈÇ¶Êü•ËØ¢Êï∞ÊçÆ„ÄÇ
- **Áªü‰∏ÄÂ§á‰ªΩÁ≥ªÁªü (Unified Backup System)**:
    - **BackupService**: Âª∫Á´ã‰∏≠Â§ÆÂ§á‰ªΩÊúçÂä°ÔºåÊï¥Âêà‰∫Ü‰ª£Á†ÅÂéãÁº© (.zip) ‰∏éÊï∞ÊçÆÂ∫ìÂú®Á∫øÂ§á‰ªΩ (.bak) ÈÄªËæë„ÄÇ
    - **Âú®Á∫øÊï∞ÊçÆÂ∫ìÂ§á‰ªΩ**: ÂºïÂÖ• SQLite `backup` APIÔºåÊîØÊåÅÂú®Á≥ªÁªüËøêË°å‰∏≠ËøõË°åÂÆâÂÖ®„ÄÅ‰∫ãÂä°‰∏ÄËá¥ÁöÑÊï∞ÊçÆÂ∫ìÂ§á‰ªΩÔºåËá™Âä®ÈôçÁ∫ß‰∏∫Êñá‰ª∂Êã∑Ë¥ùÂä†ÈÄü„ÄÇ
    - **Áã¨Á´ãÊóãËΩ¨Êú∫Âà∂**: ÂÆûÁé∞‰∫Ü‰ª£Á†Å‰∏éÊï∞ÊçÆÂ∫ìÁöÑÁã¨Á´ãÁâàÊú¨ÊóãËΩ¨ (Rotation)ÔºåÈªòËÆ§‰øùÁïôÂêÑ 10 ‰∏™ÊúÄÊñ∞Â§á‰ªΩ„ÄÇ
    - **ÂÖ®ÈìæË∑ØÂàÜÂ±ÇÈáçÊûÑ**: Êõ¥Êñ∞ÊúçÂä° (`UpdateService`)„ÄÅÁ≥ªÁªüÁª¥Êä§ (`SystemService/DBMaintenanceService`) Âèä Web ÁÆ°ÁêÜÁ´ØÂ∑≤ÂÖ®Èù¢ÂàáÊç¢Ëá≥Áªü‰∏ÄÂ§á‰ªΩÂçèËÆÆÔºåÂ∫üÂºÉ‰∫ÜÂÜÖÈÉ®ÂÜó‰ΩôÂÆûÁé∞„ÄÇ
    - **CLI Â¢ûÂº∫**: `manage_update.py` Áé∞Âú®ÊîØÊåÅÂàÜÁ±ªÊü•Áúã‰∏éË∑ØÁî±ËøòÂéüÔºà‰ª£Á†Å vs Êï∞ÊçÆÂ∫ìÔºâÔºåÊèê‰æõÊõ¥ÂÆâÂÖ®ÁöÑËøòÂéü‰øùÈöú„ÄÇ
- **ÊúçÂä°Â±ÇÊ∑±Â∫¶ÈõÜÊàê (Service Integration)**:
    - **TaskService**: ‰ªªÂä°ÂàóË°®‰∏éËØ¶ÊÉÖÊü•ËØ¢Áé∞Â∑≤ÂÆåÂÖ®Êé•ÂÖ•Ê°•Êé•Âô®ÔºåÊîØÊåÅÊü•ÁúãÂ∑≤ÂΩíÊ°£ÁöÑ 60w+ ÂéÜÂè≤‰ªªÂä°„ÄÇ
    - **AuditService**: ÂÆ°ËÆ°Êó•ÂøóÊü•ËØ¢ÂÆûÁé∞Ë∑®Â±ÇÁ∫ßËÅîÂêàÔºåÁ°Æ‰øùÊåÅ‰πÖÂåñÂÆ°ËÆ°ËÆ∞ÂΩïÁöÑÂèØÂõûÊ∫ØÊÄß„ÄÇ
    - **AnalyticsService**: ÁªüËÆ°ÂàÜÊûêÂäüËÉΩÂÖ®Èù¢ÈÄÇÈÖçËÅîÈÇ¶Êü•ËØ¢ÔºåÂáÜÁ°ÆÂèçÊò†ÁÉ≠ÂÜ∑Â∫ìÁªºÂêàÊï∞ÊçÆ„ÄÇ
- **ËøêÁª¥‰∏éÊÄßËÉΩ‰ºòÂåñ (Ops & Performance)**:
    - **‰øùÁïôÁ≠ñÁï•**: Â∞Ü `task_queue` ÈªòËÆ§ÁÉ≠Êï∞ÊçÆ‰øùÁïôÊúüÈôêÁî± 7 Â§©Áº©Áü≠Ëá≥ 1 Â§©ÔºåÊûÅÂ§ßÂáèËΩª‰∏ªÂ∫ìË¥üÊãÖ„ÄÇ
    - **Á©∫Èó¥ÂõûÊî∂**: Ëá™Âä®ÂåñÂΩíÊ°£ÊµÅÁ®ãÈõÜÊàê `WAL Checkpoint` ‰∏é `VACUUM`ÔºåÂÆûÁé∞ÊûÅËá¥ÁöÑ‰∏ªÂ∫ìÁ£ÅÁõòÁ©∫Èó¥ÂõûÊî∂„ÄÇ
    - **ÊµãËØïË¥®Èáè**: ‰øÆÂ§ç‰∫ÜÂΩíÊ°£ÂçïÂÖÉÊµãËØï‰∏≠ÁöÑ SQLAlchemy Mock ÂÖºÂÆπÊÄßÈóÆÈ¢ò (`ArgumentError`)„ÄÇ

## üìÖ 2026-02-16 Êõ¥Êñ∞ÊëòË¶Å

### üöÄ v1.2.6.1: MenuController ÂèäÈ¢ÜÂüüÊéßÂà∂Âô®Êû∂ÊûÑÊ†áÂáÜÂåñÈáçÊûÑ (UIRE-3.0)
- **CVM Êû∂ÊûÑÊ∑±Â∫¶ÈáçÊûÑ (Architecture)**:
    - **Ê†∏ÂøÉËß£ËÄ¶**: ÂΩªÂ∫ïÂàÜÁ¶ª‰∫Ü `MenuController` ‰∏é `Media/Rule/Admin` ÊéßÂà∂Âô®‰∏≠ÁöÑ UI ÊûÑÈÄ†ÈÄªËæë„ÄÇÊéßÂà∂Âô®Áé∞‰ªÖË¥üË¥£‰∏öÂä°Ë∞ÉÂ∫¶Ôºå‰∏çÂÜçÊåÅÊúâ‰ªª‰ΩïÁ°¨ÁºñÁ†ÅÁöÑÊ†áÈ¢òÊàñÂØºËà™Â≠óÁ¨¶‰∏≤„ÄÇ
    - **Áªü‰∏ÄÊ∏≤ÊüìÂÖ•Âè£**: ÂºïÂÖ• `BaseMenu.display_view` ÊñπÊ≥ïÔºåÂÆûÁé∞‰∫ÜÂØπ `ViewResult` ‰∫ßÁâ©ÁöÑÊ†áÂáÜÂåñÂàÜÂèëÔºåÁ°Æ‰øùÂÖ®Á≥ªÁªüÊ∏≤ÊüìË°å‰∏∫ÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ
- **UI Ê∏≤ÊüìÂºïÊìéÂçáÁ∫ß (UI Engine)**:
    - **Ê∏≤ÊüìÂÜÖËÅöÂåñ**: Â∞ÜÂàÜÂâ≤Á∫ø„ÄÅÊ†áÈ¢òÂõæÊ†á„ÄÅÊ†áÂáÜÈù¢ÂåÖÂ±ëÂèäÂä®ÊÄÅ‚ÄúÊõ¥Êñ∞Êó∂Èó¥‚ÄùËÑöÊ≥®ÂÆåÂÖ®Â∞ÅË£ÖÂú® `Renderer` Â±ÇÔºàÂü∫‰∫é `MenuBuilder`ÔºâÔºåÂÆûÁé∞‰∫Ü UI ÁªìÊûÑÁöÑ‰∏≠Â§ÆÁÆ°Êéß„ÄÇ
    - **Emoji ‰∏éÊéíÁâà‰øÆÂ§ç**: ‰øÆÂ§ç‰∫ÜÁî±‰∫éÂèåÈáçÂ§çÂêàÂØºËá¥ÁöÑ Telegram Ê∂àÊÅØÂèåÈáçÊ†áÈ¢òÈóÆÈ¢òÔºåÂπ∂‰ºòÂåñ‰∫Ü Emoji Ê†áÈ¢òÂú®ÂêÑÁ´ØÊòæÁ§∫ÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ
- **Ë¥®Èáè‰øùÈöú (Quality)**:
    - **Ë∑ØÁî±ÂêàËßÑ**: Á°Æ‰øùÊâÄÊúâËèúÂçï‰∫§‰∫íÊåâÈíÆÔºàÂ¶ÇÂéÜÂè≤ËÆ∞ÂΩï„ÄÅËßÑÂàôÁÆ°ÁêÜÁ≠âÔºâÂøÖÈ°ªÁªèÁî±Áõ∏Â∫îÁöÑ Controller ËΩ¨ÂèëÔºå‰∏•Ê†ºÂØπÈΩê‰∫Ü PSB Â∑•Á®ãÂçèËÆÆÁöÑÂàÜÂ±ÇË¶ÅÊ±Ç„ÄÇ
    - **ÂÖ®ÈáèÈ™åËØÅ**: ÈÄöËøáÊú¨Âú∞ CI (Arch Guard & Flake8 Critical) Ê£ÄÊü•„ÄÇ

### üöÄ v1.2.6.0: Web ÁÆ°ÁêÜÁ´ØÊúçÂä°Á´ØÊêúÁ¥¢‰∏éÂàÜÈ°µÂäüËÉΩÂçáÁ∫ß (Server-side Search & Pagination)
- **Ê†∏ÂøÉÂêéÁ´ØÂ¢ûÂº∫ (Core Backend)**:
    - **‰ªìÂ∫ìÊêúÁ¥¢ÊîØÊåÅ**: Êõ¥Êñ∞‰∫Ü `RuleRepository.get_all` Âíå `StatsRepository.get_rule_logs`ÔºåÊîØÊåÅÈÄöËøáÂÖ≥ÈîÆËØçÂØπËßÑÂàôËØ¶ÊÉÖÂèäËΩ¨ÂèëÊó•ÂøóËøõË°åÊúçÂä°Á´ØÈ´òÊïàËøáÊª§„ÄÇ
    - **API ËØ≠‰πâÂåñ**: Áªü‰∏Ä‰∫ÜËßÑÂàôÂàóË°®‰∏éÊó•ÂøóÂàóË°®ÁöÑÊêúÁ¥¢Êé•Âè£ÂçèËÆÆÔºåÊñ∞Â¢û `query` ÂèØÈÄâÂèÇÊï∞ÔºåÊèêÂçá‰∫ÜÂâçÂêéÁ´ØÊï∞ÊçÆ‰∫§Êç¢ÁöÑÁÅµÊ¥ªÊÄß„ÄÇ
- **ÂâçÁ´Ø‰∫§‰∫íÈáçÊûÑ (Frontend UI/UX)**:
    - **ÂÆûÊó∂ÊêúÁ¥¢Èò≤Êäñ**: Âú® Rules Âíå History È°µÈù¢ÂºïÂÖ• `debounce` Êú∫Âà∂ÔºåÁ°Æ‰øùÊêúÁ¥¢Ê°ÜËæìÂÖ•Êó∂ËÉΩÊô∫ËÉΩÂª∂ËøüËß¶Âèë API ËØ∑Ê±ÇÔºåÂ§ßÂπÖÊèêÂçáÈ°µÈù¢ÂìçÂ∫îÊÄßËÉΩ„ÄÇ
    - **Â§öÁª¥Â∫¶ÂàÜÈ°µ**: Âú® Rules È°µÈù¢ÂÆûÁé∞‰∫ÜÂÆåÊï¥ÁöÑÊúçÂä°Á´ØÂàÜÈ°µÊéßÂà∂ÔºåÊîØÊåÅÂ§ßËßÑÊ®°ËßÑÂàôÈõÜÁöÑÊµÅÁïÖÊµèËßà„ÄÇ
    - **Á∫ßËÅîÂØºËà™ËøáÊª§**: ÂéÜÂè≤ËÆ∞ÂΩïÈ°µÈù¢Áé∞Âú®ÊîØÊåÅÈÄöËøá URL ÂèÇÊï∞ (`rule_id`) ËøõË°åÁ≤æÂáÜËøáÊª§ÔºåÂπ∂Â¢ûÂä†‰∫Ü‰ªéËßÑÂàôÂç°Áâá‚ÄúÊü•ÁúãÂéÜÂè≤‚ÄùÁöÑ‰∏ÄÈîÆÁõ¥ËææÈìæË∑Ø„ÄÇ
- **Ë¥®Èáè‰∏é‰øÆÂ§ç (Fixes)**:
    - **TypeScript Á±ªÂûã‰øÆÂ§ç**: ‰øÆÂ§ç‰∫Ü `History.tsx` ‰∏≠ÁöÑÊó†Áî®ÂØºÂÖ•Âèä TS Ê†°È™åÈîôËØØÔºåÁ°Æ‰øù‰∫ÜÁîü‰∫ßÁéØÂ¢É‰∏ãÊûÑÂª∫ÊµÅÊ∞¥Á∫øÁöÑÈÄöÂÖ≥„ÄÇ
    - **UI Áä∂ÊÄÅÂêåÊ≠•**: ‰øÆÂ§ç‰∫ÜÂàÜÈ°µÂàáÊç¢Êó∂ÊêúÁ¥¢Áä∂ÊÄÅ‰∏¢Â§±ÁöÑÈóÆÈ¢òÔºåÁ°Æ‰øù‰∫Ü UI Â±ïÁ§∫‰∏éÂêéÁ´ØÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ
    - **ÊûÑÂª∫È™åËØÅ**: Â∑≤ÂÆåÊàêÊú¨Âú∞ `npm run build` È™åËØÅÔºå‰∫ßÁâ©Â∑≤ÊàêÂäüÁîüÊàêÂπ∂ÂáÜÂ§áÂàÜÂèë„ÄÇ

### üîß v1.2.5.5: Á≥ªÁªüÊõ¥Êñ∞/ÈáçÈÉ®ÁΩ≤‰∫§‰∫í‰ΩìÈ™å‰øÆÂ§ç (System Update UI Fix)
- **UI ‰∫§‰∫í‰ºòÂåñ**:
    - **ÂèñÊ∂àÊåâÈíÆ‰øÆÂ§ç**: ‰øÆÂ§ç‰∫ÜÁ≥ªÁªüÊõ¥Êñ∞‰∏éÂõûÊªöÁ°ÆËÆ§È°µÈù¢‚ÄúÂèñÊ∂à‚ÄùÊåâÈíÆËß¶Âèë‚ÄúÊó†ÊïàÊåá‰ª§‚ÄùÁöÑÈóÆÈ¢ò„ÄÇÁî±‰∫éÂéüÊåâÈíÆ `data="delete"` Ë∑ØÁî±Áº∫‰πè `rule_id` ‰∏îÊú™Âú®Ëß£ÊûêÂÖçÊ†°È™åÂêçÂçï‰∏≠ÔºåÂØºËá¥Êã¶Êà™Êä•Èîô„ÄÇ
    - **Ë∑ØÁî±Êåá‰ª§ÂØπÈΩê**: Â∞Ü‚ÄúÂèñÊ∂à‚ÄùÊåâÈíÆÊï∞ÊçÆÁªü‰∏ÄÈáçÊûÑ‰∏∫ `"cancel"`ÔºåÂπ∂Â∞ÜÂÖ∂ÂÖ≥ËÅîËá≥ÈÄöÁî®ÁöÑ `callback_close_settings` Â§ÑÁêÜÂô®„ÄÇ
    - **Ë∑ØÁî±Âô®È≤ÅÊ£íÊÄß**: Âú® `callback_handlers.py` ‰∏≠Ë°•ÂÖ®‰∫ÜÂØπ `cancel` Âíå `close_settings` Êåá‰ª§ÁöÑÂÖç ID Ê†°È™åÈÄªËæëÔºåÁ°Æ‰øùÊ≠§Á±ªÂÖ®Â±ÄÊÄßÊìç‰ΩúÊó†ÈúÄ‰∏öÂä° ID Âç≥ÂèØÊàêÂäüÂàÜÂèë„ÄÇ
- **Ë¥®ÈáèÈ™åËØÅ**:
    - **Ë∑ØÁî±ÂçïÂÖÉÊµãËØï**: Êñ∞Â¢ûÈ™åËØÅÈÄªËæëÁ°ÆËÆ§ `RadixRouter` ËÉΩÊ≠£Á°ÆÂåπÈÖçÂπ∂ÂàÜÂèë `cancel` Ë∑ØÂæÑ„ÄÇ

### üîß v1.2.5.4: Á≥ªÁªüÁ®≥ÂÆöÊÄß‰∏é‰ª£Á†ÅË¥®Èáè‰∏ìÈ°π‰ºòÂåñ (System Stability & Code Quality Review)
- **‰ª£Á†ÅË¥®ÈáèÊ≤ªÁêÜ (Code Quality)**:
    - **Undefined Name ‰øÆÂ§ç**:
        - `AnalyticsService`: ‰øÆÂ§ç `_resolve_chat_name` ‰∏≠ÂºïÁî®Êú™ÂÆö‰πâÁöÑ `session_service`Ôºå‰øÆÊ≠£‰∏∫ `self.container.chat_info_service`„ÄÇ
        - `AdminController`: ‰øÆÂ§ç `execute_admin_cleanup_logs` ‰∏≠ `deleted_count` Êú™ÂÆö‰πâÁöÑÈóÆÈ¢òÔºõË°•ÂÖÖÁº∫Â§±ÁöÑ `os` Âíå `datetime` ÂºïÁî®„ÄÇ
        - `other_callback.py`: ‰øÆÂ§ç `handler_map` ‰∏≠ÊåáÂêëÊú™ÂÆö‰πâÁöÑ `callback_delete_duplicates`Ôºå‰øÆÊ≠£‰∏∫ `callback_confirm_delete_duplicates`„ÄÇ
    - **Êú™‰ΩøÁî®ÂºïÁî®Ê∏ÖÁêÜ**: ÁßªÈô§ `stats_router.py` ‰∏≠Êú™‰ΩøÁî®ÁöÑ `validate_transition` ÂØºÂÖ•„ÄÇ

### üöÄ v1.2.5.3: Web ÁÆ°ÁêÜÁïåÈù¢Á®≥ÂÆöÊÄß‰∏éÈ≤ÅÊ£íÊÄß‰øÆÂ§ç (Web Admin Stability & Robustness)
- **ÊêúÁ¥¢ÁªüËÆ°Â¢ûÂº∫**:
    - **Unknown ÂÆû‰Ωì‰øÆÂ§ç**: ÂΩªÂ∫ï‰øÆÂ§ç‰∫Ü‚ÄúËΩ¨ÂèëËÆ∞ÂΩï‚ÄùÊêúÁ¥¢ËØ¶ÊÉÖ‰∏≠ÔºåÊù•Ê∫ê/ÁõÆÊ†áÂÆû‰ΩìÊòæÁ§∫‰∏∫ `Unknown` ÁöÑ Bug„ÄÇÈÄöËøáÂú® `AnalyticsService.search_records` ‰∏≠Â¢ûÂä†ÂØπ `SourceChat` Âíå `TargetChat` ÁöÑÊ∑±Â∫¶È¢ÑÂä†ËΩΩ (`joinedload`)ÔºåÁ°Æ‰øù‰∫ÜÂÆû‰ΩìÂêçÁß∞ÁöÑÂÆûÊó∂Ëß£Êûê„ÄÇ
    - **Êï∞ÊçÆÊ†ºÂºèÂØπÈΩê**: ‰ºòÂåñ‰∫ÜÊêúÁ¥¢ÁªìÊûúÁöÑ DTO Êò†Â∞ÑÔºåÊñ∞Â¢û `source_chat` Âíå `target_chat` Â≠óÊÆµ‰ª•ÂåπÈÖç `RuleDTOMapper` ËßÑËåÉÔºåÊèêÂçá‰∫ÜÂâçÂêéÁ´ØÊï∞ÊçÆ‰∫§Êç¢ÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ
- **‰ªªÂä°Á≥ªÁªüÈ≤ÅÊ£íÊÄß**:
    - **Êó•ÊúüÂ∫èÂàóÂåñ‰øÆÂ§ç**: ‰øÆÂ§ç‰∫Ü‚Äú‰ªªÂä°ÈòüÂàó‚ÄùËé∑ÂèñÂ§±Ë¥•ÂØºËá¥È°µÈù¢Êä•ÈîôÁöÑÈóÆÈ¢ò„ÄÇÁî±‰∫é SQLite Â≠òÂÇ®ÁâπÊÄßÔºåÈÉ®ÂàÜÊó•ÊúüÂ≠óÊÆµÂèØËÉΩ‰ª•Â≠óÁ¨¶‰∏≤ÂΩ¢ÂºèÂ≠òÂú®ÔºåÂØºËá¥ `.isoformat()` Ëß¶Âèë `AttributeError`„ÄÇÁé∞Â∑≤ÂºïÂÖ• `hasattr` ÂÆàÊä§Ê†°È™åÔºåÁ°Æ‰øùÊó†ËÆ∫ÊòØ `datetime` ÂØπË±°ËøòÊòØÂéüÂßãÂ≠óÁ¨¶‰∏≤ÈÉΩËÉΩÂÆâÂÖ®Â∫èÂàóÂåñ„ÄÇ
    - **ÊÄßËÉΩ‰ºòÂåñ**: ÂáèÂ∞ë‰∫Ü‰ªªÂä°ÂàóË°®ÊãâÂèñÊó∂ÁöÑÈò≤Âæ°ÊÄßÂºÄÈîÄ„ÄÇ
- **Â∑•Á®ãË¥®Èáè**:
    - **ÂõûÂΩíÊµãËØï**: Âª∫Á´ã‰∫Ü‰∏ìÈó®ÁöÑ `test_search_records` (Êõ¥Êñ∞Áâà) Âíå `test_get_tasks_list_handles_string_dates` È™åËØÅÈÄªËæëÔºåÁ°Æ‰øùÊó•ÊúüÊ†ºÂºèÂ§öÊ†∑ÊÄß‰∏ãÁöÑÁ≥ªÁªüÁ®≥ÂÆöÊÄß„ÄÇ

### üöÄ v1.2.5.2: ËΩ¨Âèë‰∏≠ÂøÉ‰∏éÊêúÁ¥¢Á®≥ÂÆöÊÄßÊèêÂçá (Forwarding & Analytics Stability)
- **Analytics Service ÊêúÁ¥¢‰øÆÂ§ç**:
    - **AttributeError Ê≤ªÁêÜ**: ‰øÆÂ§ç‰∫Ü `AnalyticsService.search_records` ÊñπÊ≥ï‰∏≠ÔºåÂõ†Áõ¥Êé•ËÆøÈóÆ `RuleLog` ÂØπË±°‰∏çÂ≠òÂú®ÁöÑ `source_chat_id` Âíå `target_chat_id` Â±ûÊÄßÂØºËá¥ÁöÑÂ¥©Ê∫É„ÄÇ
    - **ÂÖ≥ËÅîÈ¢ÑÂä†ËΩΩ (joinedload)**: ÂºïÂÖ• `sqlalchemy.orm.joinedload` È¢ÑÂä†ËΩΩÂÖ≥ËÅîÁöÑ `ForwardRule` Ê®°Âûã„ÄÇËøô‰∏ç‰ªÖ‰øÆÂ§ç‰∫ÜÂ±ûÊÄßËÆøÈóÆÈóÆÈ¢òÔºåËøòÈÄöËøáÂçïÊ¨° SQL Êü•ËØ¢Ëß£ÂÜ≥‰∫Ü N+1 Êü•ËØ¢ÊÄßËÉΩÁì∂È¢à„ÄÇ
    - **Èò≤Âæ°ÊÄßËÆøÈóÆ**: Âú®ÊûÑÈÄ†ÁªìÊûúÈõÜÊó∂ÈÄöËøá `log.rule` ÂÆâÂÖ®ËÆøÈóÆÂ≠óÊÆµÔºåÂπ∂ÂØπÁº∫Â§±ËßÑÂàôÁöÑÊÉÖÂÜµÊèê‰æõ‰∫Ü `"Êú™Áü•"` ÁöÑ‰ºòÈõÖÂõûÈÄÄÔºåÊèêÈ´ò‰∫ÜÊï∞ÊçÆÁöÑÂ±ïÁ§∫ÂÆπÈîôÊÄß„ÄÇ
- **ËΩ¨ÂèëÊó•ÂøóÊòæÁ§∫‰ºòÂåñ**:
    - **Êú™Áü•ÂÆû‰Ωì‰øÆÂ§ç**: ‰øÆÂ§ç‰∫ÜÁî±‰∫é `analytics_service` ÂÜÖÈÉ®ÈÄªËæëÁº∫Èô∑ÂØºËá¥ÁöÑ Source Entity/Target Entity Âú®Êüê‰∫õÂú∫ÊôØ‰∏ãÊòæÁ§∫‰∏∫ `Unknown` ÁöÑÈóÆÈ¢òÔºåÁ°Æ‰øù‰∫ÜÁÆ°ÁêÜÁ´ØÊó•ÂøóÁöÑÂèØËØªÊÄß„ÄÇ
- **Ë¥®Èáè‰∏éÈ™åËØÅ**:
    - **Êñ∞Â¢ûÂçïÊµã**: Âú® `tests/unit/services/test_analytics_service.py` ‰∏≠Êñ∞Â¢û‰∫Ü `test_search_records` ÊµãËØïÔºåÂÆåÊï¥Ë¶ÜÁõñ‰∫ÜÊêúÁ¥¢ÈÄªËæë„ÄÅÂ±ûÊÄßËÆøÈóÆÂèäÁ©∫ÂÄºÂ§ÑÁêÜË∑ØÂæÑ„ÄÇ
    - **Mock ÂÅ•Â£ÆÊÄß**: ‰øÆÂ§ç‰∫ÜÂéüÊúâ `AnalyticsService` ÂçïÂÖÉÊµãËØï‰∏≠ÂØπÂºÇÊ≠•ÁªÑ‰ª∂ (`stats_repo`, `bot_client`) ÁöÑ Mock ‰∏çÂÆåÊï¥ÈóÆÈ¢òÔºåÊèêÂçá‰∫ÜÊú¨Âú∞ CI ÁöÑÁ®≥ÂÆöÊÄß„ÄÇ

### üöÄ Web Admin React UI Integration (Web UI Refactor)
- **Frontend Architecture**:
    - **Single Page Application (SPA)**: ÂÆåÂÖ®ÈõÜÊàê‰∫ÜÂü∫‰∫é React + Vite ÁöÑÁé∞‰ª£ÂåñÂçïÈ°µÂ∫îÁî®ÂâçÁ´ØÔºåÊõø‰ª£‰∫ÜÊóßÁâàÂü∫‰∫é Jinja2 Ê®°ÊùøÁöÑÂêéÁ´ØÊ∏≤ÊüìÈ°µÈù¢„ÄÇ
    - **Directory Standardization**: ÂâçÁ´ØÈ°πÁõÆËßÑËåÉÂåñÈÉ®ÁΩ≤‰∫é `web_admin/frontend`ÔºåÊûÑÂª∫‰∫ßÁâ©Áªü‰∏ÄËæìÂá∫Ëá≥ `dist/`ÔºåÊ∏ÖÁêÜ‰∫Ü `ui/app` Âíå `ui/static` Á≠âÈùûËßÑËåÉÁõÆÂΩï„ÄÇ
- **Backend Integration**:
    - **Unified API Client**: ÂÆûÁé∞‰∫Ü `api-client.ts` Áªü‰∏ÄÂ§ÑÁêÜ API ËØ∑Ê±Ç‰∏éÊã¶Êà™Âô®ÔºåÊîØÊåÅ JWT Ëá™Âä®Ê≥®ÂÖ•‰∏é 401 Ëá™Âä®Ë∑≥ËΩ¨„ÄÇ
    - **Real Authentication**: ÂÆåÊàê‰∫Ü `/api/auth/login`, `/api/auth/me` Á≠â API ÁöÑÂØπÊé•ÔºåÂÆûÁé∞‰∫ÜÂâçÁ´Ø‰∏éÂêéÁ´ØÁöÑÁúüÂÆûÈâ¥ÊùÉÈó≠ÁéØÔºåÁßªÈô§‰∫ÜÊâÄÊúâ Mock Êï∞ÊçÆ„ÄÇ (Task: `Workstream_Web_Real_Integration`)
    - **Dashboard Data**: ‰ª™Ë°®Áõò (`Dashboard.tsx`) ÊàêÂäüÂØπÊé• `/api/system/stats` Âíå `/api/system/resources`ÔºåÂÆûÊó∂Â±ïÁ§∫ÁúüÂÆûÁöÑ CPU/ÂÜÖÂ≠ò/Á£ÅÁõòÂèä‰∏öÂä°ÁªüËÆ°Êï∞ÊçÆ„ÄÇ
- **Build System**:
    - **Production Ready**: ‰ºòÂåñ‰∫ÜÊûÑÂª∫ËÑöÊú¨ÔºåÊØèÊ¨°ÂèëÂ∏ÉËá™Âä®Ê∏ÖÁêÜÊóßÁâàÊú¨ÁºìÂ≠òÊñá‰ª∂ÔºåÁ°Æ‰øù `dist/` ÁõÆÂΩïÊ∏ÖÊ¥Å„ÄÇ

## üìÖ 2026-02-13 Êõ¥Êñ∞ÊëòË¶Å

### üöÄ v1.2.5.1: Êõ¥Êñ∞Ëá™ÊÑà‰∏éÂÅ•Â∫∑Ê£ÄÊü•Á®≥ÂÆöÊÄß‰ºòÂåñ (Update Resilience & Health Check Fix)
- **UpdateService ÊïÖÈöúËá™ÊÑà‰øÆÂ§ç**:
    - **ÈÄªËæëÂÜó‰ΩôÊ∂àÈô§**: ÁßªÈô§‰∫Ü `UpdateService.start_periodic_check` ‰∏≠ÂØπ `verify_update_health` ÁöÑ‰∫åÊ¨°Ë∞ÉÁî®ÔºåÁ°Æ‰øù‰ªÖÂú®Â∫îÁî®ÂêØÂä®ÂàùÊúü (`main.py`) ÊâßË°åÂçïÊ¨°Ëá™Ê£Ä„ÄÇËøôËß£ÂÜ≥‰∫ÜÂú®Êõ¥Êñ∞Âêé‚ÄúËßÇÂØüÊúü‚ÄùÂÜÖÊØè‰∏ÄËΩÆËøõÁ®ãÂêØÂä®ÂèåÂÄçÂ¢ûÂä†Â§±Ë¥•ËÆ°Êï∞Âô®ÁöÑ Bug„ÄÇ
    - **ËøõÁ®ãÁ∫ßÈò≤Êäñ (Health Check Debounce)**: ÂºïÂÖ•‰∫Ü `_health_checked_in_this_process` Áä∂ÊÄÅÈîÅ„ÄÇÂà©Áî® Python ÂØπË±°ÁöÑËøõÁ®ãÁîüÂëΩÂë®ÊúüÔºåÊúâÊïàÈò≤Ê≠¢Âõ†ÈÄªËæëÈáçÂÖ•ÂØºËá¥ÁöÑ `fail_count` ËØØÊä•Á¥ØÂä†ÔºåÊèêÂçá‰∫ÜÂõûÊªöÂà§ÂÆöÁöÑÁ≤æÁ°ÆÂ∫¶„ÄÇ
- **Á≥ªÁªüÂÖ≥Èó≠Á®≥ÂÆöÊÄß (Shutdown Stability)**:
    - **EventBus ÂÖºÂÆπÊÄßË°•‰∏Å**: ‰∏∫ `EventBus` ÊòæÂºèÂ¢ûÂä†‰∫Ü `emit` ÊñπÊ≥ï‰Ωú‰∏∫ `publish` ÁöÑÂà´Âêç„ÄÇËøôËß£ÂÜ≥‰∫ÜÂú®Á≥ªÁªüÊõ¥Êñ∞ÊàñÂÖ≥Èó≠Êó∂ÔºåÈÉ®ÂàÜÊóßËøõÁ®ãÊàñÂä®ÊÄÅË∞ÉÁî®Âõ†Êé•Âè£‰∏ç‰∏ÄËá¥ÂØºËá¥ÁöÑ `'EventBus' object has no attribute 'emit'` Êä•ÈîôÔºåÁ°Æ‰øù‰ºòÈõÖÂÖ≥Èó≠ÊµÅÁ®ã 100% ÊàêÂäü„ÄÇ
    - **Bootstrap Ë∑ØÂæÑ‰ºòÂåñ**: ÂÜçÊ¨°Ê†∏ÂÆûÂπ∂ÈîÅÂÆö‰∫Ü `core/bootstrap.py` ‰∏≠ÁöÑ‰∫ã‰ª∂ÂèëÂ∏ÉËØ≠‰πâÔºåÁ°Æ‰øùÂÖ∂Á¨¶ÂêàÊúÄÊñ∞ÁöÑ `EventBus` ÂçèËÆÆ„ÄÇ
- **ÁÉ≠ÈáçÂêØÂÜ≤Á™ÅÊäëÂà∂ (Guard Guard)**:
    - **ÂÜ≤Á™ÅÊ≤ªÁêÜ**: ‰øÆÂ§ç‰∫ÜÁî±‰∫é `.env` Á≠âÂÖ≥ÈîÆÊñá‰ª∂Êõ¥Êñ∞Ëß¶Âèë `GuardService` ÈáçÂêØÔºåËøõËÄåÂπ≤Êâ∞ `UpdateService` ÂÅ•Â∫∑ËßÇÂØüÊúüÁöÑÊ≠ªÂæ™ÁéØ„ÄÇ
    - **ËßÇÂØüÊúü‰øùÊä§**: Âú®Á≥ªÁªüÂêØÂä®ÂêéÁöÑ 60 ÁßíÁ®≥ÂÆöÊÄßÈ™åËØÅÊúüÂÜÖÔºå`GuardService` Ëá™Âä®ÊäëÂà∂‰ªª‰ΩïÊñá‰ª∂ÂèòÊõ¥ÂºïÂèëÁöÑÁÉ≠ÈáçÂêØÊìç‰ΩúÔºå‰øùÈöú‰∫ÜÁ≥ªÁªüÊõ¥Êñ∞ÂêéÁöÑÂπ≥Á®≥ËøáÊ∏°‰∏éÊï∞ÊçÆÂ∫ìËøÅÁßª‰ªªÂä°ÁöÑÂéüÂ≠êÊÄß„ÄÇ
- **‰ªªÂä°ÈòüÂàóÂêûÂêêÈáè‰ºòÂåñ‰∏éÂ§±Ë¥•Ê≤ªÁêÜ (Queue Performance Fix)**:
    - **Êâ©ÂÆπÊú∫Âà∂‰øÆÂ§ç**: ‰øÆÊ≠£‰∫Ü `WorkerService` ‰∏≠Áî±‰∫éÁªüËÆ°ÈîÆÂêç‰∏çÂåπÈÖç (`pending` vs `active_queues`) ÂØºËá¥ÁöÑÂä®ÊÄÅÊâ©ÂÆπÂ§±ÊïàÈóÆÈ¢òÔºåÊÅ¢Â§ç‰∫ÜÁ≥ªÁªüÊ†πÊçÆÁßØÂéãÈáèËá™Âä®Ë∞ÉËäÇÂπ∂ÂèëÁöÑËÉΩÂäõ„ÄÇ
    - **ÊâπÈáèËé∑Âèñ (Batch Fetching)**: ÈáçÊûÑ‰∫Ü `task_repo.fetch_next` Âíå `WorkerService` Âæ™ÁéØÔºåÊîØÊåÅÂéüÂ≠êÂåñÊâπÈáèÊãâÂèñÂπ∂ÈîÅÂÆö‰ªªÂä°ÔºåÊòæËëóÈôç‰Ωé‰∫ÜÈ´òÁßØÂéãÂú∫ÊôØ‰∏ãÁöÑÊï∞ÊçÆÂ∫ìÈîÅÁ´û‰∫â„ÄÇ
    - **Â∑•Á®ãÂ§áÊ°à**: ÂêØÂä®‰∫Ü‰ªªÂä° `20260213_Task_Queue_Optimization` ËøõË°åÁßØÂéãÊ∏ÖÁêÜ‰∏éÊÄßËÉΩË∞É‰ºò„ÄÇ
- **Ë¥®Èáè‰∏éÁâàÊú¨**:
    - **ÁâàÊú¨ÂêåÊ≠•**: ÂΩìÂâç‰øùÊåÅ v1.2.5.1„ÄÇ
    - **Â∑•Á®ãÂ§áÊ°à**: ÂÆåÊàê‰∫Ü‰ªªÂä° `20260213_Fix_Update_Restart_Loop` ÁöÑÊäÄÊúØÊä•Âëä‰∏éÈó≠ÁéØËÆ∞ÂΩï„ÄÇ


## üìÖ 2026-02-11 Êõ¥Êñ∞ÊëòË¶Å

### üöÄ Bugfix: ViewResult NameError & UI ÂÖºÂÆπÊÄßÂä†Âõ∫ (UI Compatibility & NameError Fix)
- **UI Ê∏≤ÊüìÂô®‰øÆÂ§ç**:
    - **NameError Ê≤ªÁêÜ**: Ë°•ÂÖ®‰∫Ü `MainMenuRenderer`, `TaskRenderer`, `SettingsRenderer` ‰∏≠Áº∫Â§±ÁöÑ `ViewResult` Âíå `UIStatus` ÂØºÂÖ•ÔºåËß£ÂÜ≥‰∫Ü `/settings` Êåá‰ª§Ëß¶ÂèëÊó∂ÁöÑÂ¥©Ê∫ÉÈóÆÈ¢ò„ÄÇ
    - **Èò≤Âæ°ÊÄßÊ∏≤Êüì**: Âú® `MainMenuRenderer.render` ‰∏≠Â¢ûÂä†‰∫ÜÂØπ `None` ÁªüËÆ°Êï∞ÊçÆÁöÑ‰ºòÈõÖÂ§ÑÁêÜÔºåÈÅøÂÖçÂõ†ÊúçÂä°‰∏çÂèØÁî®ÂØºËá¥ÁöÑÊ∏≤ÊüìÊ∫¢Âá∫„ÄÇ
- **ÂÖºÂÆπÊÄßÂ±ÇÂ¢ûÂº∫ (Hotfix)**:
    - **ViewResult ÂçèËÆÆÊâìÊ°©**: ‰∏∫ `ViewResult` ÂÆπÂô®ÂÆûÁé∞‰∫Ü `__getitem__` Âíå `__contains__` ÊñπÊ≥ï„ÄÇËøô‰∏ÄÊîπÂä®ÂÖÅËÆ∏ÊóßÁâà Controller ÁªßÁª≠‰ΩøÁî®Â≠óÂÖ∏È£éÊ†º (Â¶Ç `result['text']`) ËÆøÈóÆÊñ∞ÁâàÊ∏≤ÊüìÂØπË±°ÔºåÊûÅÂ§ßÈôç‰Ωé‰∫ÜÈáçÊûÑÈ£éÈô©„ÄÇ
    - **Á±ªÂûãÂÆâÂÖ®**: ‰øÆÂ§ç‰∫Ü `ViewResult` Âú®Â§ÑÁêÜÈùûÂ≠óÁ¨¶‰∏≤ Key Êàñ‰ΩøÁî® `in` Êìç‰ΩúÁ¨¶Êó∂ÂèØËÉΩËß¶ÂèëÁöÑ `TypeError`„ÄÇ
- **UI ËßÑËåÉÂØπÈΩê (UIRE-2.0)**:
    - **ÊµãËØï‰øÆÊ≠£**: Êõ¥Êñ∞‰∫Ü `tests/unit/ui/renderers/test_main_menu_renderer.py` ‰∏≠ÁöÑËøáÊó∂Êñ≠Ë®ÄÔºåÈÄÇÈÖç‰∫Ü 2.0 ÁâàÊ∏≤ÊüìÂºïÊìéÁöÑ‰∏≠ÊñáÊ†áÁÇπËæìÂá∫„ÄÇ
    - **ÈîôËØØÂ∏ÉÂ±Ä‰ºòÂåñ**: Â¢ûÂº∫‰∫Ü `BaseRenderer.render_error`ÔºåÁ°Æ‰øùÂú®ÊòæÁ§∫ËØ¶ÁªÜÈîôËØØ‰ø°ÊÅØÊó∂‰∏ç‰ºöË¶ÜÁõñÂü∫Á°ÄÊèêÁ§∫‰ø°ÊÅØ„ÄÇ
    - **Êõ¥Êñ∞Êåá‰ª§ UI ‰ºòÂåñ**: ÈáçÊñ∞ËÆæËÆ°‰∫Ü `/update` Êåá‰ª§ÁöÑÁ°ÆËÆ§ÁïåÈù¢ÔºåÊñ∞Â¢ûËøúÁ®ã‰∏éÊú¨Âú∞ SHA ÊåáÁ∫πÂØπÊØîÊòæÁ§∫ÔºåÂπ∂ÈááÁî®Ê†áÂáÜÂÖ®ËßíÊ†áÁÇπÊ†∑Âºè„ÄÇ
- **Ë¥®ÈáèÈó®Á¶Å‰∏éÈ™åËØÅ**:
    - **ÂÖ®ÈìæË∑Ø Mock È™åËØÅ**: ÈÄöËøá `test_settings_trigger.py` ÊàêÂäüÊ®°Êãü‰∫Ü‰ªéÊåá‰ª§Ëß¶ÂèëÂà∞ UI ÁîüÊàêÁöÑÂÆåÊï¥‰∫§‰∫íÈìæË∑Ø„ÄÇ
    - **‰ª£Á†ÅË¥®ÈáèÈÄöÂÖ≥**: ‰øÆÂ§ç‰∫ÜÂÖ®Á≥ªÁªü 10+ Â§ÑÁî±Êû∂ÊûÑÂ∑°Ê£ÄÂèëÁé∞ÁöÑ `F821` (Êú™ÂÆö‰πâÂèòÈáè) ÈîôËØØÔºåÂÆûÁé∞‰∫ÜÊ†∏ÂøÉË∑ØÂæÑÁöÑ Flake8 ÈÄöÂÖ≥„ÄÇ


## üìÖ 2026-02-09 Êõ¥Êñ∞ÊëòË¶Å

### üöÄ v1.2.5.0: UIRE-2.0 Ê∏≤ÊüìÂºïÊìé‰∏é CVM Êû∂ÊûÑÊ®°ÂùóÂåñ (UIRE-2.0 & CVM Modularization)
- **UIRE-2.0 Rendering Engine**:
    - **Smart Layout Engine**: ÈáçÊûÑ `MenuBuilder` ÊîØÊåÅÂéüÂ≠êË°åÊéßÂà∂ (`add_button_row`) ‰∏éÊô∫ËÉΩËá™ÈÄÇÂ∫îÂ∏ÉÂ±Ä (`_apply_smart_layout`)„ÄÇÊ†πÊçÆÊ†áÁ≠æÈïøÂ∫¶Ëá™Âä®ÂàáÊç¢ [1 | 2 | 3] ÂàóÊéíÁâà„ÄÇ
    - **Robustness Infrastructure**: ÂºïÂÖ• `TextUtil` Â∑•ÂÖ∑ÈõÜ„ÄÇÂÆûÁé∞È¶ñÂ∞æÁº©Áï• (`smart_truncate`) ‰ª•‰øùÊä§Èïø ID Â∏ÉÂ±ÄÔºåÂπ∂Êèê‰æõ Markdown ÂÆâÂÖ®ÈÄÉÈÄ∏ÊîØÊåÅ„ÄÇ
    - **Global Safeguards**: Êñ∞Â¢û `3800` Â≠óÁ¨¶Á°¨ÊÄßÁÜîÊñ≠ÈôçÁ∫ßÊú∫Âà∂ÔºåÁ°Æ‰øùÁîüÊàêÁöÑÂìçÂ∫îÊñáÊú¨ÂßãÁªàÁ¨¶Âêà Telegram ÂçèËÆÆÁöÑ 4096 Â≠óÁ¨¶‰∏äÈôêÔºåÂΩªÂ∫ïÊùúÁªùÊ∏≤ÊüìÊ∫¢Âá∫ÂØºËá¥ÁöÑ 400 ÈîôËØØ„ÄÇ
    - **Sticky Buttons**: ÂÆûÁé∞Êô∫ËÉΩÂ∫ïÊ†èÂê∏ÈôÑÊú∫Âà∂ÔºåÂ∞Ü‚ÄúËøîÂõû‚Äù„ÄÅ‚ÄúÈÄÄÂá∫‚Äù„ÄÅ‚ÄúÂèñÊ∂à‚ÄùÁ≠âÊìç‰ΩúËá™Âä®ÂΩíÂπ∂Âú®ËèúÂçïÂ∫ïÈÉ®Âπ∂ÂèåÂàóÊéíÁâà„ÄÇ
- **CVM Architecture (Controller-View-Modularization)**:
    - **Separation of Concerns**: ÊàêÂäüÂ∞Ü `RuleRenderer`, `MediaRenderer`, `TaskRenderer` Á≠âËßÜÂõæÈÄªËæë‰ªéÂõûË∞ÉÂ§ÑÁêÜÂô®‰∏≠Ââ•Á¶ª„ÄÇÊéßÂà∂Âô®Áé∞Âú®‰ªÖË¥üË¥£Êï∞ÊçÆË∞ÉÂ∫¶ÔºåÊ∏≤ÊüìÂô®Ë¥üË¥£ËßÜËßâË°®Ëææ„ÄÇ
    - **Renderer Purity**: Ê∏≤ÊüìÂô®Áé∞Âú®ÈÄöËøá `ViewResult` ÂçèËÆÆËøîÂõûËßÜÂõæÂÖÉÊï∞ÊçÆÔºåÊèêÂçá‰∫Ü UI ‰ª£Á†ÅÁöÑÂèØÊµãËØïÊÄß‰∏éÊ≠£‰∫§ÂåñÁ®ãÂ∫¶„ÄÇ
    - **Visual Standardization**: Áªü‰∏Ä‰∫ÜÂÖ®Á≥ªÁªüÁöÑÈù¢ÂåÖÂ±ë (`Breadcrumb`) ÂØºËà™Ë∑ØÂæÑÔºàÊ†πËäÇÁÇπÔºöÈ¶ñÈ°µÔºâ„ÄÇÂú® `UIStatus` ‰∏≠ËßÑËåÉ‰∫Ü 30+ ÁßçÁä∂ÊÄÅÂõæÊ†á„ÄÇ
- **Documentation & Verification**:
    - **Developer Experience**: ÁºñÂÜô‰∫Ü„ÄäUI ÂºÄÂèëÂèÇËÄÉÊâãÂÜå„Äã(`UI_GUIDE.md`)Ôºå‰∏∫ÂêéÁª≠ÂäüËÉΩÁöÑ UI ÂºÄÂèëÊèê‰æõ‰∫ÜÁªü‰∏ÄÁöÑ‰ª£Á†ÅÁâáÊÆµ‰∏éËßÑËåÉÊåáÂºï„ÄÇ
    - **Full-Link Integration**: Êñ∞Â¢ûÈõÜÊàêÊµãËØï `tests/integration/test_uire_v2_full_link.py`ÔºåÂÆåÊï¥Ë¶ÜÁõñ‰∫Ü‰ªéÊéßÂà∂Âô®Âà∞Ê∏≤ÊüìÂô®ÁöÑ‰∫§‰∫íÈìæË∑Ø„ÄÇ

 
## üìÖ 2026-02-08 Êõ¥Êñ∞ÊëòË¶Å
 
### üöÄ v1.2.4.5: QoS 4.0 Âä®ÊÄÅÊ≥≥ÈÅìË∑ØÁî± (QoS 4.0: Dynamic Lane Routing)
- **Core Queue Intelligence**:
    - **Multi-Lane Isolation**: ÂΩªÂ∫ïÂ∫üÂºÉÂçï‰∏Ä‰ºòÂÖàÁ∫ßÈòüÂàóÔºåÈáçÊûÑ‰∏∫ `Critical` (üöë Á¥ßÊÄ•), `Fast` (üèéÔ∏è Âø´ÈÄü), `Standard` (üöó Ê†áÂáÜ) ‰∏âÊù°Áâ©ÁêÜÈöîÁ¶ªÁöÑÂºÇÊ≠•ÈòüÂàó„ÄÇ
    - **CAP Algorithm (Chinese Edition)**: ÂÆûÁé∞‰∫ÜÂÖ®Ê±âÂåñÁöÑÊã•Â°ûÊÑüÁü•Ë∑ØÁî±ÁÆóÊ≥ï„ÄÇÊ†πÊçÆ `Score = Base - (Pending * 0.5)` Âä®ÊÄÅËÆ°ÁÆóÊ∂àÊÅØËØÑÂàÜ„ÄÇ
    - **Traffic Shaping**: Ëá™Âä®ËØÜÂà´Âà∑Â±èÁæ§ÁªÑÂπ∂Â∞ÜÂÖ∂ÂêéÁª≠ÊµÅÈáèÊó†ÊÑüÈôçÁ∫ßËá≥Ê†áÂáÜÊ≥≥ÈÅìÔºåÁ°Æ‰øù VIP Áî®Êà∑ÂíåÂÖ∂‰ªñÁæ§ÁªÑ‰∏çÂèó‚ÄúÈÇªÂ±ÖÂπ≤Êâ∞‚Äù„ÄÇ
- **Observability & UX**:
    - **Localized Metrics**: Êó•ÂøóÁ≥ªÁªüÂÖ®Èù¢Ê±âÂåñÔºåÂÆûÊó∂ËæìÂá∫Ê∂àÊÅØÁöÑ‚ÄúÊúâÊïàËØÑÂàÜ‚Äù„ÄÅ‚ÄúÊâÄÂ±ûÊ≥≥ÈÅì‚ÄùÂèä‚ÄúÁßØÂéãÊùÉÈáç‚ÄùÔºåÊûÅÂ§ßÊèêÂçá‰∫ÜÈ´òË¥üËΩΩ‰∏ãÁöÑËøêÁª¥ÈÄèÊòéÂ∫¶„ÄÇ
    - **Command Alignment**: Êõ¥Êñ∞ `/vip` (Êàñ `/set_priority`) Âíå `/queue_status` Êåá‰ª§Ôºå‰ΩøÁî®Ê≥≥ÈÅìÊ†áËØÜÔºàüöë üèéÔ∏è üöóÔºâÊõøÊç¢ËøáÊó∂ÁöÑÊï∞Â≠óÊèèËø∞ÔºåËØ≠‰πâÊõ¥Ê∏ÖÊô∞„ÄÇ
- **Verification**:
    - ÈÄöËøá `tests/test_qos_v4.py` ÂÆåÊàê‰∫ÜÂπ∂ÂèëÈöîÁ¶ª‰∏éÊä¢Âç†Ë∞ÉÂ∫¶Ê®°ÊãüÈ™åËØÅ„ÄÇ

### üöÄ v1.2.4.4: ÊûÑÂª∫Á≥ªÁªüÂçáÁ∫ß‰∏éÊ†∏ÂøÉ Bug ‰øÆÂ§ç (Build System Upgrade & Core Fixes)
- **Build System & Infrastructure**:
    - **uv Integration**: Â∞ÜÈ°πÁõÆ‰æùËµñÁÆ°ÁêÜ‰ªé `pip` ÂÖ®Èù¢ËøÅÁßªËá≥ `uv`ÔºåÂú® `Dockerfile` Âíå `UpdateService` ‰∏≠Âà©Áî®ÂÖ∂Â§öÁ∫øÁ®ãÂπ∂Ë°åÂÆâË£ÖÁâπÊÄßÔºåÂ∞ÜÊûÑÂª∫‰∏é‰æùËµñÊõ¥Êñ∞ÈÄüÂ∫¶ÊèêÂçáÁ∫¶ 5 ÂÄç„ÄÇ
    - **Docker Optimization**: ‰ºòÂåñ `Dockerfile` ÂàÜÂ±ÇÔºåÂºïÂÖ• `uv` ÁºìÂ≠òÊåÇËΩΩÊú∫Âà∂ (`--mount=type=cache`)ÔºåÂπ∂ÁæéÂåñ‰∫ÜÊûÑÂª∫ËøáÁ®ã‰∏≠ÁöÑÁä∂ÊÄÅËæìÂá∫ËæìÂá∫ÁïåÈù¢„ÄÇ
- **Core Bug Fixes**:
    - **MessageContext Stability**: ‰øÆÂ§ç‰∫Ü `SenderFilter` Âú®È™åËØÅÁõÆÊ†áËÅäÂ§©Êó∂Âõ† `MessageContext` Áº∫Â§± `metadata` Â±ûÊÄßÂØºËá¥ÁöÑ `AttributeError` Â¥©Ê∫É„ÄÇÈÄöËøáÂú® `__slots__` ‰∏≠Ê≠£‰∫§ÂåñËØ•Â≠óÊÆµÔºå‰øùÈöú‰∫ÜË∑®‰∏≠Èó¥‰ª∂Êï∞ÊçÆÁöÑÂÆâÂÖ®ÊµÅËΩ¨„ÄÇ
    - **Startup Resilience**: Ëß£ÂÜ≥‰∫ÜÁî±‰∫é Bot ÂëΩ‰ª§ÔºàÂ¶Ç `/rollback` / `/upgrade`ÔºâÂØºÂÖ•ÈÄªËæëÂØºËá¥ÁöÑÂêØÂä®Â¥©Ê∫ÉÔºåÂ¢ûÂº∫‰∫Ü `bot_handler.py` ÁöÑÂÆπÈîôÊÄß„ÄÇ
    - **Graceful Shutdown**: ‰øÆÊ≠£‰∫Ü `ShutdownCoordinator` ÈáçÂ§çË∞ÉÁî®ÂºïÂèëÁöÑË≠¶ÂëäÔºåÂπ∂ÂÆåÂñÑ‰∫ÜËá™Âä®Êõ¥Êñ∞Âêé‰æùËµñÊ†°È™åÊó•ÂøóÁöÑÂèØËßÅÊÄß„ÄÇ
- **Performance & Experience**:
    - **Priority Queue**: ÂÆûÁé∞Â§öÁ∫ß‰ºòÂÖàÁ∫ßÈòüÂàó (P0-P3)Ôºå‰ºòÂÖà‰øùÈöúÂç≥Êó∂ËΩ¨Âèë‰ªªÂä°Â§ÑÁêÜÔºåÊúâÊïàÁºìËß£È´òÈ¢ëË¥üËΩΩ‰∏ãÁöÑÊ∂àÊÅØÁßØÂéã‰∏éÂª∂Ëøü„ÄÇ
    - **Documentation**: ÂÆåÊàê‰∫Ü `20260208_FixSenderFilterMetadata` Á≠â 5+ ‰∏™‰ªªÂä°ÁöÑÊäÄÊúØÊä•Âëä„ÄÅTodo ÂêåÊ≠•ÂèäÈó≠ÁéØÂΩíÊ°£„ÄÇ

### üöÄ v1.2.4.3: Â∑•‰∏öÁ∫ßÊõ¥Êñ∞‰∫§‰∫í‰∏éÊïÖÈöúËá™ÊÑà (Advanced Update & Rollback Interface)
- **Infrastructure & Reliability**:
    - **Uptime Guard**: Âú® `entrypoint.sh` ‰∏≠ÂºïÂÖ•‚ÄúÂêØÂä®ÂÆàÊä§ÁªøÊ¥≤‚ÄùÔºåÂÆûÁé∞Âú®Êõ¥Êñ∞Âêé 15 ÁßíÂÜÖÂèëÁîüÂ¥©Ê∫ÉÊó∂Ëá™Âä®ÊâßË°åÂõûÊªöÔºåÂΩªÂ∫ïÁªàÁªì‚ÄúÂùèÁâàÊú¨ÂØºËá¥Ê≠ªÂæ™ÁéØ‚ÄùÁöÑËøêÁª¥ÈöêÊÇ£„ÄÇ
    - **State Verification**: ÂºïÂÖ• `UPDATE_VERIFYING.json` ‰∏≠Èó¥ÊÄÅÈîÅÔºå‰ΩøÁ≥ªÁªüÂú®‚ÄúËßÇÂØüÊúü‚ÄùÂÜÖ‰ªçËÉΩËØÜÂà´ÊΩúÂú®ÊïÖÈöúÂπ∂Ëß¶ÂèëÂÆâÂÖ®ÈôçÁ∫ß„ÄÇ
    - **Physical Failover**: Â¢ûÂº∫Áâ©ÁêÜÂ§á‰ªΩÈÄªËæëÔºåÂú® Git ÂõûÊªöÂèóÈòªÊó∂ÔºàÂ¶Ç‰ªìÂ∫ìÊçüÂùèÔºâÔºåËá™Âä®ÈÄöËøá `.tar.gz` ÂéüÂßã‰ª£Á†ÅÂåÖËøòÂéüÊ†∏ÂøÉÁõÆÂΩï„ÄÇ
- **Interactive Interfaces (Maximum Reuse)**:
    - **Python CLI**: Êñ∞Â¢û `scripts/ops/manage_update.py`ÔºåÊîØÊåÅÁªàÁ´ØÊü•ÁúãÁä∂ÊÄÅ (`status`)„ÄÅË°•‰∏Å/ÂÖ®ÈáèÊõ¥Êñ∞ (`upgrade`) ÂíåÁ¥ßÊÄ•ÊïëÊÄ• (`rollback`)„ÄÇ
    - **Bot Management**: Âú® `/update` Âíå `/rollback` Êåá‰ª§‰∏≠ÈõÜÊàê‰∫åÊ¨°Á°ÆËÆ§ÈÄªËæë‰∏éÁõÆÊ†áÁâàÊú¨ÈÄâÊã©ÔºåÊîØÊåÅÁ≤æÁ°ÆÂõûÊªöËá≥ÂéÜÂè≤ÁâàÊú¨ (`/history` Ë∑≥ËΩ¨)„ÄÇ
    - **Architecture Consistency**: ÈáçÊûÑ `UpdateService` Â∞ÜÂéüÊú¨ÂàÜÊï£Âú® CLI Âíå Bot ÁöÑÊõ¥Êñ∞ÈÄªËæëÊî∂Âè£‰∏∫Áªü‰∏ÄÁöÑÂºÇÊ≠•Áä∂ÊÄÅÊú∫Êåá‰ª§ÔºåÁ°Æ‰øùÊìç‰ΩúÂπÇÁ≠â‰∏éÁä∂ÊÄÅÂêåÊ≠•„ÄÇ

## üìÖ 2026-02-08 Êõ¥Êñ∞ÊëòË¶Å

### üöÄ v1.2.4.2: ‰øÆÂ§ç Bot ÂëΩ‰ª§ËèúÂçï‰π±Á†Å (Fix Bot Command Encoding)
- **Critical Encoding Fix**:
    - **Double-Encoding Recovery**: Ê∑±Â∫¶ÂàÜÊûêÂπ∂‰øÆÂ§ç‰∫Ü `handlers/bot_commands_list.py` ‰∏≠ÁöÑ‰∏•Èáç‰π±Á†ÅÈóÆÈ¢òÔºàUTF-8 -> GBK -> UTF-8 ÂèåÈáçÁºñÁ†ÅÁ†¥ÂùèÔºâÔºåÊÅ¢Â§ç‰∫ÜÊâÄÊúâ Bot Command ÁöÑ‰∏≠ÊñáÊèèËø∞‰∏é Emoji„ÄÇ
    - **Recovery Script**: ÂºÄÂèëÂπ∂ÊâßË°å‰∫Ü‰∏ìÁî®ÁöÑÈÄÜÂêë‰øÆÂ§çËÑöÊú¨ÔºåÊàêÂäüËøòÂéü‰∫Ü 90+ Ë°åÂèóÊçü‰ª£Á†Å„ÄÇ
    - **Verification**: ÈÄöËøá `syntax_check.py` È™åËØÅ‰∫Ü‰øÆÂ§çÂêéÊñá‰ª∂ÁöÑ Python ËØ≠Ê≥ïÂÆåÊï¥ÊÄßÔºåÂπ∂ÁßªÈô§‰∫ÜÂèØËÉΩÂØºËá¥ÁºñËØëÈóÆÈ¢òÁöÑ UTF-8 BOM Â§¥„ÄÇ

### üöÄ v1.2.4.1: ËøêÁª¥Âç´Áîü‰∏éÂÖ≥Èó≠ÊµÅÁ®ã‰ºòÂåñ (DevOps & Shutdown Optimization)
- **DevOps & Logging**:
    - **Visible Dependency Check**: Â¢ûÂº∫‰∫Ü `entrypoint.sh` ÁöÑÂÆàÊä§ËøõÁ®ãÊó•ÂøóÔºåÂú®Ê†°È™å‰æùËµñÊó∂Â¢ûÂä† `üîçÊ†°È™å‰∏≠...` Âíå `‚úÖÊ†°È™åÈÄöËøá` ÁöÑÊòéÁ°ÆËæìÂá∫ÔºåÊ∂àÈô§ÈáçÂêØÊó∂ÁöÑ‚ÄúÈªëÁõí‚ÄùÁä∂ÊÄÅ„ÄÇ
    - **Shutdown Idempotency**: ‰ºòÂåñ‰∫Ü `ShutdownCoordinator` Âíå `LifecycleManager` ÁöÑÂçè‰ΩúÈÄªËæëÔºåÈÄöËøáÁä∂ÊÄÅÈ¢ÑÊ£ÄÂÆûÁé∞ÂÖ≥Èó≠ÊµÅÁ®ãÁöÑÂπÇÁ≠âÊÄß„ÄÇ
    - **Log Noise Reduction**: Â∞ÜÈáçÂ§çËß¶ÂèëÂÖ≥Èó≠ÊµÅÁ®ãÊó∂ÁöÑË≠¶ÂëäÁ∫ßÂà´‰ªé `WARNING` ÈôçÁ∫ß‰∏∫ `INFO`ÔºåËß£ÂÜ≥‰∫ÜÂ§öËß¶ÂèëÊ∫êÂØºËá¥ÁöÑÂô™Èü≥Ë≠¶Âëä„ÄÇ
- **Arch Integrity**:
    - **Redunancy Removal**: ÁßªÈô§‰∫Ü `main.py` ÂêØÂä®ÂºÇÂ∏∏Âùó‰∏≠ÂÜó‰ΩôÁöÑ `lifecycle.stop()` Ë∞ÉÁî®ÔºåÁ≥ªÁªüÁé∞Áî± `lifecycle.start()` ÂÜÖÈÉ®Èó≠ÁéØÂ§ÑÁêÜ‰∏•ÈáçÂºÇÂ∏∏„ÄÇ
- **Engineering Hygiene**:
    - **Automated Archiving**: ‰ΩøÁî® `docs-archiver` ÊäÄËÉΩÂÆåÊàê‰∫Ü 10+ ‰∏™Â∑≤ÁªìÁÆó‰ªªÂä°ÔºàÂ¶Ç `20260207_FixGreenletError_History` Á≠âÔºâÁöÑÂΩíÊ°£Ê∏ÖÁêÜ„ÄÇ
    - **Tree Sync**: ÂêåÊ≠•Êõ¥Êñ∞ `docs/tree.md` Á¥¢ÂºïÔºåÁ°Æ‰øùÁâ©ÁêÜÊñá‰ª∂‰∏éÁõÆÂΩïÊñáÊ°£‰∏ÄËá¥„ÄÇ
    - **Cleanup**: Ê∏ÖÁêÜ‰∫ÜË∞ÉËØïÁî®ÁöÑ‰∏¥Êó∂ËÑöÊú¨ `tests/reproduce_double_shutdown.py`„ÄÇ

### üöÄ v1.2.4.0: ÂéªÈáçÂºïÊìéÂÅ•Â£ÆÊÄß‰∏éÂÜ≤Á™Å‰øÆÂ§ç (Dedup Engine Robustness & Fixes)
- **Core Fixes**:
    - **Method Alignment**: ‰øÆÂ§ç‰∫Ü `DedupRepository` ‰∏≠ `batch_add_media_signatures` ÁöÑ `AttributeError` ÂëΩÂêç‰∏ç‰∏ÄËá¥ÈóÆÈ¢ò„ÄÇ
    - **Logic De-conflict**: ÁßªÈô§‰∫Ü `KeywordFilter` ‰∏≠ÂÜó‰ΩôÁöÑÂéªÈáçÊ†°È™åÔºåËß£ÂÜ≥‰∫Ü‰∏é `DedupMiddleware` ÂèåÈáçÈîÅÂÆöÂØºËá¥ÁöÑ‚ÄúÂÖ®ÂëòËØØÂà§‰∏∫ÈáçÂ§ç‚ÄùÂÖ≥ÈîÆ Bug„ÄÇ
    - **Reliability Improvement**: ÂÆûÁé∞Âà∑ÂÜôÁºìÂÜ≤Âå∫Â§±Ë¥•Êó∂ÁöÑ**Ëá™Âä®ÈáçÊñ∞ÂÖ•Èòü (Re-queueing)** Êú∫Âà∂ÔºåÁ°Æ‰øùÈ´òË¥üËΩΩ‰∏ãÁöÑÊï∞ÊçÆÂÆåÊï¥ÊÄß„ÄÇ
    - **Safe Filtering**: Âú®‰ªìÂ∫ìÂ±ÇÂºïÂÖ•Â≠óÊÆµËøáÊª§ÔºåÈò≤Ê≠¢ `bulk_insert_mappings` Âõ†Ê®°ÂûãÂÜó‰ΩôÂ≠óÊÆµÂØºËá¥ÁöÑËøêË°åÊó∂ÂºÇÂ∏∏„ÄÇ
- **Stability**:
    - **Similarity Guard**: ‰øÆÂ§ç‰∫Ü `SimilarityStrategy` ‰∏≠ `comparisons` ÂèòÈáèÊú™ÂÆö‰πâÁöÑ `NameError`„ÄÇ
    - **History Skip**: Âú® `DedupMiddleware` ‰∏≠Â¢ûÂä†ÂØπ `is_history` ‰ªªÂä°ÁöÑËá™Âä®Ë∑≥ËøáÔºå‰øùÈöú‰∫ÜÂéÜÂè≤Ë°•ÂÖ®ÊµÅÁ®ãÁöÑËøûË¥ØÊÄß„ÄÇ
- **Verification**:
    - Êñ∞Â¢û `tests/unit/repositories/test_dedup_repo_batch.py` È™åËØÅÊâπÈáèÂÜôÂÖ•ÂÅ•Â£ÆÊÄß„ÄÇ


### üöÄ v1.2.3.9: Êï∞ÊçÆÂ∫ìÁõëÊéß‰∏éÈ´òÁ∫ßÂéªÈáç (Database Monitoring & Advanced Dedup)
- **Database Monitoring System**:
    - **Performance Dashboard**: ÂÆûÁé∞ `db_performance_monitor` Èù¢ÊùøÔºåÂÆûÊó∂Â±ïÁ§∫ QPS„ÄÅÊÖ¢Êü•ËØ¢ÂàÜÊûê (Slow Query Analysis) ÂíåÁÉ≠ÁÇπË°®ÁªüËÆ°„ÄÇ
    - **Optimization Center**: ÈõÜÊàê `db_optimization_center`ÔºåÊèê‰æõÂü∫‰∫éËßÑÂàôÁöÑËá™Âä®ËØäÊñ≠Âª∫ËÆÆ (Anomaly Detection Recommendations) Âíå‰∏ÄÈîÆ‰ºòÂåñÂäüËÉΩ (VACUUM/REINDEX)„ÄÇ
    - **Visual Trends**: ÂºïÂÖ• ASCII Â≠óÁ¨¶ÁîªË∂ãÂäøÂõæ (`render_db_performance_trends`)ÔºåÁõ¥ËßÇÂëàÁé∞Ëøë 7 Â§©ÁöÑÊï∞ÊçÆÂ∫ìÂÜôÂÖ•Ë¥üËΩΩÂèòÂåñ„ÄÇ
- **Advanced Deduplication Settings**:
    - **Per-Rule Configuration**: ÂÆûÁé∞ËßÑÂàôÁ∫ßÂéªÈáçÁ≠ñÁï•Ë¶ÜÁõñ (Rule-Level Override)ÔºåÂÖÅËÆ∏ÈíàÂØπÁâπÂÆöËΩ¨ÂèëËßÑÂàôÂçïÁã¨ÈÖçÁΩÆ‚ÄúÊô∫ËÉΩÁõ∏‰ººÂ∫¶ÈòàÂÄº‚ÄùÂíå‚ÄúËá™ÂÆö‰πâÊó∂Èó¥Á™óÂè£‚Äù„ÄÇ
    - **UI Integration**: Âú®ËßÑÂàôËØ¶ÊÉÖÈ°µÈõÜÊàê `dedup_settings` ÂÖ•Âè£ÔºåÊîØÊåÅÂèØËßÜÂåñÂàáÊç¢ÂÖ®Â±Ä/Ëá™ÂÆö‰πâÈÖçÁΩÆÊ®°Âºè„ÄÇ
- **Infrastructure**:
    - **Service Integration**: Â∞Ü `DBMaintenanceService` Ê∑±Â∫¶ÈõÜÊàêËá≥ËèúÂçïÁ≥ªÁªüÔºåÂÆûÁé∞‰ªé UI Áõ¥Êé•Ëß¶ÂèëÂêéÁ´ØÁª¥Êä§‰ªªÂä°„ÄÇ
    - **Cache Management**: Êñ∞Â¢ûÂéªÈáçÁºìÂ≠ò (L1/L2) ÁöÑÂÆûÊó∂ÁõëÊéß‰∏éÊâãÂä®Ê∏ÖÁêÜÂäüËÉΩ„ÄÇ


### üöÄ v1.2.3.8: ÂéªÈáçÂºïÊìé V3 ÂçáÁ∫ß (Dedup Engine V3)
- **Core Algorithms**:
    - **Numba JIT**: ÈõÜÊàê Numba ÂØπÊ±âÊòéË∑ùÁ¶ªËÆ°ÁÆóËøõË°å‰ΩçËøêÁÆó‰ºòÂåñÔºåÂú®È´òÁª¥ÂêëÈáèÊØîÂØπÂú∫ÊôØ‰∏ãÊÄßËÉΩÊèêÂçáË∂ÖËøá 10 ÂÄç„ÄÇ
    - **LSH Forest**: ÂºïÂÖ•Â±ÄÈÉ®ÊïèÊÑüÂìàÂ∏åÊ£ÆÊûó (Locality Sensitive Hashing Forest)ÔºåÂÆûÁé∞Êµ∑ÈáèÊñáÊú¨ËØ≠‰πâÊåáÁ∫πÁöÑËøë‰ººÊ£ÄÁ¥¢ÔºåÊØîÂØπÂ§çÊùÇÂ∫¶‰ªé $O(N)$ ‰ºòÂåñËá≥ $O(\log N)$„ÄÇ
    - **SSH v5**: ÂÆûÁé∞ Sparse Sentinel Hash v5 ËßÜÈ¢ëÈááÊ†∑ÁÆóÊ≥ïÔºåÊîØÊåÅÂØπË∂ÖÂ§ßËßÜÈ¢ëËøõË°åÁßíÁ∫ßÂ§öÁÇπÁâπÂæÅÊèêÂèñÔºåÊòæËëóÂ¢ûÂº∫‰∫ÜÂØπÂâ™Ëæë/Ê∑∑Ââ™ËßÜÈ¢ëÁöÑËØÜÂà´ËÉΩÂäõ„ÄÇ
- **Architecture Refactoring**:
    - **Strategic Pattern**: Â∞ÜÂéªÈáçÈÄªËæëÂΩªÂ∫ïËß£ËÄ¶‰∏∫ `Signature`, `Video`, `Content`, `Similarity` ÂõõÂ§ßÁã¨Á´ãÁ≠ñÁï•ÔºåÊîØÊåÅÊåâÈúÄÁÉ≠ÊèíÊãî„ÄÇ
    - **SmartDeduplicator Facade**: ÈÄöËøáÂ§ñËßÇÊ®°ÂºèÁªü‰∏ÄÂ§ñÈÉ®ÈìæË∑ØÔºåÂ±èËîΩÂÜÖÈÉ®Â§çÊùÇÁöÑÁ≠ñÁï•Ë∞ÉÂ∫¶‰∏é LSH Á¥¢ÂºïÁÆ°ÁêÜ„ÄÇ
- **Infrastructure & Maintenance**:
    - **Tombstone State Management**: ÂÆûÁé∞ÂºïÊìéÁä∂ÊÄÅÁöÑ‚ÄúÂ¢ìÁ¢ë‚Äù‰ºëÁú†‰∏éÂ§çËãèÊú∫Âà∂ÔºåÂú®‰ΩéË¥üËΩΩÊó∂ÂèØÂÜªÁªìÂÜÖÂ≠òÁ¥¢ÂºïÂπ∂ÂΩíËøòÁâ©ÁêÜÂÜÖÂ≠òÔºåÂìçÂ∫îÊó∂ÈÄèÊòéÊÅ¢Â§ç„ÄÇ
    - **Batched Persistence**: ÂºïÂÖ•ÊâπÂ§ÑÁêÜÁºìÂÜ≤Âå∫ (Batched Buffer) ‰∏éÊåÅ‰πÖÂåñÁºìÂ≠ò (PCache)ÔºåÂπ≥Ë°°‰∫ÜÂÆûÊó∂ÂéªÈáç‰∏éÊï∞ÊçÆÂ∫ìÂÖ•Â∫ìÂéãÂäõ„ÄÇ
- **Verification**:
    - ÂÖ®Èù¢ÈÄöËøá `tests/unit/services/test_dedup_service.py` ÂçïÂÖÉÊµãËØï„ÄÇ
    - Â∑≤ÂêåÊ≠•Êõ¥Êñ∞ `version.py` ‰ø°ÊÅØ„ÄÇ


### üöÄ v1.2.3.7: ÊµÅÈáèÁªüËÆ°‰∏éÊñáÊ°£Â¢ûÂº∫ (Traffic Stats & Docs)
- **New Feature (Intercepted Traffic)**: 
    - **Smart Deduplicator**: Âú®Ê†∏ÂøÉÂéªÈáçÂºïÊìé `SmartDeduplicator` ‰∏≠ÈõÜÊàê‚ÄúÊã¶Êà™ÊµÅÈáè‚ÄùËÆ°Êï∞Âô®ÔºåÂÆûÁé∞Â≠óËäÇÁ∫ßÁªüËÆ° (Byte-level Accounting)„ÄÇ
    - **DB Schema**: `ChatStatistics` Ê®°ÂûãÊñ∞Â¢û `saved_traffic_bytes` Â≠óÊÆµÔºåÂπ∂ÈÄöËøá Migration Ëá™Âä®ÂêåÊ≠•Êï∞ÊçÆÂ∫ìÁªìÊûÑ„ÄÇ
    - **UI Enhancement**: ‰∏ªËèúÂçï (Main Menu) Êñ∞Â¢û‚Äúüõ°Ô∏è Êã¶Êà™ÊµÅÈáè‚ÄùÂ±ïÁ§∫Ôºå‰∏é‚Äúüíæ Ê∂àËÄóÊµÅÈáè‚ÄùÂΩ¢ÊàêÂØπÊØîÔºåÁõ¥ËßÇÂëàÁé∞ÂéªÈáçÊî∂Áõä„ÄÇ
- **Documentation System**:
    - **FAQ Integration**: ÂÆûÁé∞ `MenuController.show_faq`ÔºåÊèê‰æõÂÖ≥‰∫éËßÑÂàôÁÆ°ÁêÜ„ÄÅÂéªÈáçÂ§±Êïà„ÄÅÂª∂ËøüÁ≠âÂ∏∏ËßÅÈóÆÈ¢òÁöÑÂç≥Êó∂Ëß£Á≠î„ÄÇ
    - **Detailed Docs**: ÂÆûÁé∞ `MenuController.show_detailed_docs`ÔºåË°•ÂÖÖÊ†∏ÂøÉÊ¶ÇÂøµ (Source/Target/Rule) ‰∏éÈ´òÁ∫ßÂäüËÉΩÁöÑËØ¥Êòé„ÄÇ
    - **Interaction Fix**: ‰øÆÂ§ç‰∫Ü‚ÄúÂ∏ÆÂä©ÊåáÂçó‚ÄùÈ°µÈù¢‰∏≠ FAQ ÂíåËØ¶ÁªÜÊñáÊ°£ÊåâÈíÆÊó†ÂìçÂ∫îÁöÑÈóÆÈ¢ò„ÄÇ

## üìÖ 2026-02-04 Êõ¥Êñ∞ÊëòË¶Å

### üöÄ ËèúÂçïÁ≥ªÁªüÂÆåÊï¥ÊÄßÂÆ°ËÆ°‰∏é‰øÆÂ§ç (Menu System Integrity Audit)
- **Standardized Toggle**: ÂºïÂÖ• `handle_generic_toggle` ÈÄöÁî®Â§ÑÁêÜÂô®ÔºåÈÄöËøáÊï∞ÊçÆÈ©±Âä®ËåÉÂºèËß£ÂÜ≥‰∫Ü 31 ‰∏™Áº∫Â§±ÁöÑÂõûË∞ÉÂ§ÑÁêÜÂô®ÈóÆÈ¢òÔºåÊûÅÂ§ßÈôç‰Ωé‰∫ÜÊåâÈíÆÈÄªËæëÁöÑÈáçÂ§çÂ∫¶„ÄÇ
- **Routing Cleanup**: Âú® `callback_handlers.py` ‰∏≠ÈÄöËøá `callback_router` Ë°•ÂÖ®‰∫Ü 31 ‰∏™Êñ∞ÁöÑË∑ØÁî±Ëß£ÊûêË∑ØÂæÑÔºåÂπ∂È™åËØÅ‰∫ÜÂÖ®Èáè 66 ‰∏™ÂõûË∞ÉÂ§ÑÁêÜÂô®ÁöÑËøûÈÄöÊÄß„ÄÇ

### üöÄ Á®≥ÂÆöÊÄß‰∏éÊÄßËÉΩÊ≤ªÁêÜ (Stability & Performance)
- **Circular Import Fix**: Ëøõ‰∏ÄÊ≠•‰ºòÂåñÂêØÂä®Âä†ËΩΩÈ°∫Â∫èÔºåÂú® `core.container` ‰∏≠ÂÆûÊñΩ **Lazy Imports**ÔºåÂΩªÂ∫ïËß£ÂÜ≥Âú®È´òÂêûÂêêÂú∫ÊôØ‰∏ãÂõ†‰∫§ÂèâÂºïÁî®ÂØºËá¥ÁöÑÂêØÂä®Ê≠ªÈîÅÈóÆÈ¢ò„ÄÇ
- **N+1 Query Governance**: Ê∑±Â∫¶Êâ´ÊèèÂπ∂Ê≤ªÁêÜ‰∫ÜÊï∞ÊçÆÂ∫ìÂΩíÊ°£ (`db_archive_job`)„ÄÅËßÑÂàôÂêåÊ≠•Âèä Repository Â±ÇÁöÑ 28 ‰∏™ P0 Á∫ß N+1 ÊÄßËÉΩÁº∫Èô∑ÔºåÂ∞ÜÈÉ®ÂàÜÂú∫ÊôØÁöÑÊü•ËØ¢ÂØÜÂ∫¶‰ªé 12 Ê¨°ÈôçËá≥ 6 Ê¨°„ÄÇ
- **Performance Benchmark**: ÂºïÂÖ• `tests/benchmarks/test_n_plus_one_perf.py` ÊÄßËÉΩÊµãËØïÂü∫ÂáÜÔºåÂÆûÁé∞ÂÖ≥ÈîÆË∑ØÂæÑÊÄßËÉΩÈÄÄÂåñÁöÑËá™Âä®ÂåñÈ¢ÑË≠¶„ÄÇ

### üöÄ Ê†∏ÂøÉÂéªÈáçÂºïÊìéË¥®ÈáèÂª∫ËÆæ (Dedup Engine Quality)
- **Unit Test Coverage**: ‰∏∫ `SmartDeduplicator` ÂÆûÁé∞ 46 ‰∏™Áª¥Â∫¶ÁöÑÊ∑±Â∫¶ÂçïÂÖÉÊµãËØïÔºåË¶ÜÁõñÁ≠æÂêçÁîüÊàê„ÄÅSimHash Áõ∏‰ººÂ∫¶„ÄÅËßÜÈ¢ëËØÜÂà´ÂèäËæπÁïåÂºÇÂ∏∏„ÄÇ
- **Concurrency Locking**: ‰ºòÂåñ‰∫ÜÂü∫‰∫é‰ºöËØùÂºÇÊ≠•ÈîÅÁöÑÂéªÈáçÊµÅÁ®ãÔºåÈÄöËøá `asyncio.Lock` ÊàêÂäüËß£ÂÜ≥È´òÂπ∂Âèë‰∏ãÁöÑ `Check-then-Act` Á´ûÊÄÅÊù°‰ª∂ÈóÆÈ¢ò„ÄÇ

### üöÄ ÁªÜËäÇ‰øÆÂ§ç‰∏éÂØπÈΩê (Fixes & Alignment)
- **Logging System**: ‰øÆÂ§ç‰∫Ü `core/logging.py` ‰∏≠ `structlog` ÈÖçÁΩÆÂØºËá¥ÁöÑ `TypeError`ÔºõÈÄöËøáÂä†Âõ∫ `SafeLoggerFactory` Âπ∂Ê†°ÂáÜÂ§ÑÁêÜÂô®ÈìæÔºàÂºïÂÖ• `render_to_log_kwargs`ÔºâÔºåËß£ÂÜ≥‰∫ÜÊó•ÂøóÁ≥ªÁªüÂêØÂä®Êó∂ÁöÑÂ¥©Ê∫ÉÈóÆÈ¢ò„ÄÇ
- **Bug Fixes**: ‰øÆÂ§çËßÑÂàôËÆæÁΩÆ `AddMode` KeyErrorÔºõ‰øÆÂ§ç Changelog ÂàÜÈ°µÊòæÁ§∫Êó∂ÁöÑ `EditMessageRequest` ÂçèËÆÆÈîôËØØ„ÄÇ
- **Engineering Hygiene**: ÊâπÈáèÂØπÈΩê‰∫Ü 148 ‰∏™ÈùôÈªòÊçïËé∑ÁöÑÂºÇÂ∏∏Â§ÑÁêÜÈÄªËæëÔºåÊ≥®ÂÖ•Êó•ÂøóÂπ∂‰øùÁïô‰∫ÜÈîôËØØ‰∏ä‰∏ãÊñá„ÄÇ

## üìÖ 2026-02-03 Êõ¥Êñ∞ÊëòË¶Å

### üöÄ v1.2.3.5: ÂêØÂä®Á®≥ÂÆöÊÄß‰øÆÂ§ç (Startup Stability)
- **Critical Fix**: 
    - **Circular Import**: ÂΩªÂ∫ïËß£ÂÜ≥‰∫Ü `core.container` -> `Middlewares` -> `DedupService` -> `Container` ÁöÑÂæ™ÁéØ‰æùËµñÈìæÊù°„ÄÇ
    - **Lazy Loading**: Âú® Container ‰∏≠ÂÆûÁé∞‰∫Ü‰∏≠Èó¥‰ª∂ÁöÑÂª∂ËøüÂä†ËΩΩÈÄªËæëÔºåÁ°Æ‰øù core Âü∫Á°ÄËÆæÊñΩÂú®‰∏öÂä°ÁªÑ‰ª∂‰ªãÂÖ•ÂâçÂ∑≤ÂÆåÊàêÂÆåÊï¥ÂàùÂßãÂåñ„ÄÇ

### üöÄ v1.2.3.4: ‰ª£Á†ÅÂç´Áîü‰∏éÂõûÂΩí‰øÆÂ§ç (Code Hygiene & Regression Fixes)
- **Code Hygiene**:
    - **Lint Fixes**: ‰øÆÂ§ç Admin Callback ‰∏≠ÁöÑ `F821 undefined name` (select, ForwardRule) Âíå `E712` ÊØîËæÉÈîôËØØÔºåÊ∂àÈô§‰ª£Á†ÅÂºÇÂë≥„ÄÇ
    - **Standardization**: Áªü‰∏ÄÊï∞ÊçÆÂ∫ì Session Ë∞ÉÁî®ÔºåÁßªÈô§ËøáÊó∂ÁöÑ `async_db_session`ÔºåÂÖ®Èù¢ËΩ¨Âêë `container.db.session()` ËåÉÂºè„ÄÇ
- **Regression Fixes**:
    - **Version System**: ÈáçÊûÑÁâàÊú¨ÂèäÊõ¥Êñ∞Êó•ÂøóÊòæÁ§∫ÈÄªËæëÔºåÊîØÊåÅÂàÜÈ°µ (`Version Pagination`)ÔºåÈÅøÂÖçÊõ¥Êñ∞Êó•ÂøóËøáÈïøÂØºËá¥ÁöÑÊòæÁ§∫Êà™Êñ≠„ÄÇ
    - **Menu System**: ÊåÅÁª≠ÈáçÊûÑËèúÂçïÁ≥ªÁªüÔºå‰øÆÂ§çÂèÇÊï∞‰º†ÈÄí‰∏çÂåπÈÖçÂØºËá¥ÁöÑÂ¥©Ê∫ÉÈóÆÈ¢ò„ÄÇ

### üöÄ v1.2.3.3: ‰∫§‰∫í‰∏éÊõ¥Êñ∞ÈÄªËæë‰øÆÂ§ç (Interaction & Update Logic Fixes)
- **Update Logic Optimization**:
    - **SHA Comparison**: ‰ºòÂåñ Git Êõ¥Êñ∞Ê£ÄÊü•ÈÄªËæëÔºå‰ΩøÁî® `rev-list HEAD..origin/{branch}` ÂáÜÁ°ÆËØÜÂà´Êú¨Âú∞ËêΩÂêéÁä∂ÊÄÅÔºå‰øÆÂ§ç‰∫Ü‰ª£Á†Å‰∏ÄËá¥Êó∂‰ªçÊèêÁ§∫Êõ¥Êñ∞ÁöÑÈóÆÈ¢ò„ÄÇ
    - **API URL Fix**: ‰øÆÊ≠£ `update_service.py` ‰∏≠ GitHub API URL ÁöÑÁ°¨ÁºñÁ†ÅÊãºÊé•ÈîôËØØÔºåÁ°Æ‰øùÂÆâÂÖ®‰∫§ÂèâÈ™åËØÅ (Cross-Verification) ÈÄöÈÅìÂèØÁî®„ÄÇ
    - **Undefined Variable Fix**: ‰øÆÂ§ç `_perform_git_update` ‰∏≠ `remot_id` Êú™ÂÆö‰πâÂØºËá¥ÁöÑÊõ¥Êñ∞ËøáÁ®ã‰∏≠Êñ≠Â¥©Ê∫É„ÄÇ
- **Routing & Menu System**:
    - **New Route Support**: ‰øÆÂ§çËΩ¨ÂèëËßÑÂàôÂàõÂª∫ÂêéË∑≥ËΩ¨ `rule_settings:New` Êó∂Âá∫Áé∞ÁöÑ "Êú™ÊâæÂà∞Ë∑ØÁî±Â§ÑÁêÜÁ®ãÂ∫è" ÈîôËØØ„ÄÇ
    - **Menu System Audit**: ÂÆåÊàê `NewMenuSystem` Á¨¨‰∏ÄÈò∂ÊÆµÂÆ°ËÆ°Ôºå‰øÆÂ§ç‰∫Ü `ForwardManager` ‰∏≠Âõ† `_load_global_settings` Áº∫Â§±ÂØºËá¥ÁöÑ `AttributeError`Ôºå‰ª•ÂèäÊóßÁâàÂõûË∞ÉÂ§ÑÁêÜÂô®Âú® 5 ÂèÇÊï∞Ê®°Âºè‰∏ãÁöÑ `TypeError`„ÄÇ
    - **Entry Point Unification**: Áªü‰∏Ä‰∫ÜËßÑÂàôËØ¶ÊÉÖËÆæÁΩÆÁöÑÊñ∞ÊóßËèúÂçïÂÖ•Âè£Ë∑ØÂæÑÔºåÊèêÂçá‰∫Ü‰∫§‰∫í‰∏ÄËá¥ÊÄß„ÄÇ

## üìÖ 2026-02-02 Êõ¥Êñ∞ÊëòË¶Å

### üöÄ v1.2.3.2: ËøêÁª¥Á®≥ÂÆöÊÄßÂ¢ûÂº∫ & Êó•ÂøóÈôçÂô™ (Maintenance & Stability)
- **Log System Noise Reduction**:
    - **Auth Spam Fix**: Â∞ÜÊú™Èâ¥ÊùÉËÆøÈóÆÔºà"No token found"ÔºâÁöÑÊó•ÂøóÁ∫ßÂà´‰ªé `WARNING` ÈôçÁ∫ß‰∏∫ `DEBUG`ÔºåÊ∂àÈô§ÈùûÊÅ∂ÊÑèÊâ´Êèè‰∫ßÁîüÁöÑÊµ∑ÈáèÂô™Èü≥„ÄÇ
    - **DB Maintenance Guard**: ‰ºòÂåñÊï∞ÊçÆÂ∫ìÁª¥Êä§ÊúçÂä° (`db_maintenance_service`)ÔºåÂú®Êâ´ÊèèÊï∞ÊçÆÂ∫ìÊñá‰ª∂Êó∂Ëá™Âä®ÊéíÈô§ `*_backup_*` Âèä `*/backup/*` Ë∑ØÂæÑÔºåËß£ÂÜ≥Âõ†Â∑≤ÊçüÂùèÁöÑÂ§á‰ªΩÊñá‰ª∂ËØ±ÂèëÁöÑÈîôËØØÊä•Âëä„ÄÇ
    - **Graceful Failure**: Â∞ÜÊï∞ÊçÆÂ∫ìÂÜôÊùÉÈôêÊµãËØïÁöÑÂ§±Ë¥•Êó•ÂøóÈôçÁ∫ß‰∏∫ `WARNING`ÔºåÈò≤Ê≠¢‰∏¥Êó∂Êñá‰ª∂ÈîÅÂÆöÂØºËá¥ ERROR Âà∑Â±è„ÄÇ
- **Web Admin Fixes**:
    - **API Ë°•ÂÖ®**: Êñ∞Â¢û `/api/system/resources` Êé•Âè£ÔºåËß£ÂÜ≥‰ª™Ë°®Áõò CPU/Memory ÁõëÊéßÊï∞ÊçÆ 404 ÈóÆÈ¢ò„ÄÇ
    - **Template Repair**: ‰øÆÂ§ç `tasks.html` ‰∏≠ÁöÑ Jinja2 ËØ≠Ê≥ïÈîôËØØ (ÈáçÂ§çÁöÑ `{% endblock %}`)„ÄÇ
    - **Static Resources**: Ë°•ÂÖÖÁº∫Â§±ÁöÑ `bootstrap-icons.woff2` Â≠ó‰ΩìÊñá‰ª∂ÔºåÊ∂àÈô§ÊéßÂà∂Âè∞ Font 404 Ë≠¶Âëä„ÄÇ
- **Boot Sequence & Integrity**:
    - **Import Fix**: ‰øÆÊ≠£ `core/bootstrap.py` ‰∏≠ `database_health_check` ÁöÑÂØºÂÖ•Ë∑ØÂæÑ (`scripts.ops...`)ÔºåÊÅ¢Â§çÂêØÂä®Êó∂Êï∞ÊçÆÂ∫ìËá™Ê£ÄËÉΩÂäõ„ÄÇ
    - **Cache Recovery**: Âú®ÂçáÁ∫ßËøáÁ®ã‰∏≠Ëá™Âä®ËØÜÂà´Âπ∂Ê∏ÖÁêÜÊçüÂùèÁöÑ `cache.db` ÊåÅ‰πÖÂåñÁºìÂ≠òÊñá‰ª∂„ÄÇ

## üìÖ 2026-01-31 Êõ¥Êñ∞ÊëòË¶Å

### üöÄ v1.2.3.0: Phase 9 Security Hardening & Audit System
- **Security Engineering**:
    - **AOP ÂÆ°ËÆ°Á≥ªÁªü**: ÂÆûÁé∞ `@audit_log` Ë£ÖÈ•∞Âô®ÔºåËá™Âä®ËÆ∞ÂΩï Service Â±ÇÊïèÊÑüÊìç‰ΩúÔºàÂàõÂª∫„ÄÅÊõ¥Êñ∞„ÄÅÂà†Èô§ËßÑÂàô/Áî®Êà∑ÔºâÔºåÊîØÊåÅÂºÇÊ≠•ÈùûÈòªÂ°ûÂÜôÂÖ•ÔºåÂÆûÁé∞Êìç‰ΩúÂÖ®ÈìæË∑ØÂèØËøΩÊ∫Ø„ÄÇ
    - **Context Awareness**: ÂºïÂÖ• `ContextMiddleware`ÔºåËá™Âä®ÊèêÂèñÂπ∂‰º†Êí≠ Request Context (User ID, IP, Trace ID) Ëá≥‰∏öÂä°Ê∑±Â±Ç„ÄÇ
    - **Rate Limiting**: ‰∏∫ Web Admin API ÂÆûÁé∞Âü∫‰∫é IP ÁöÑÊªëÂä®Á™óÂè£ÈôêÊµÅ (`RateLimitMiddleware`)ÔºåÈò≤Ê≠¢ÊÅ∂ÊÑè API ÁàÜÁ†¥„ÄÇ
- **User Service Refactor**:
    - **Audit Integration**: ÈáçÊûÑ `UserService`ÔºåÊñ∞Â¢ûÊòæÂºèÁöÑ `update_user` / `delete_user` ÊñπÊ≥ïÂπ∂ÈõÜÊàêÂÆ°ËÆ°Êó•ÂøóÔºåÊõø‰ª£ÂéüÊúâÁöÑ Repository Áõ¥Êé•Ë∞ÉÁî®„ÄÇ
    - **Robust Testing**: ‰øÆÂ§ç `test_user_service.py` ‰∏≠ÁöÑ Mock ÈÄªËæëÔºåË¶ÜÁõñÊùÉÈôêÊ£ÄÊü•‰∏éÂÆ°ËÆ°Ëß¶ÂèëË∑ØÂæÑ„ÄÇ
- **Documentation**:
    - **Phase Completed**: ÂÆåÊàê Phase 9 ÊâÄÊúâ P1 ‰ªªÂä°ÔºåÊ†áËÆ∞ Webhook Á≠æÂêçÊ†°È™å‰∏∫ N/A (Âõ†‰ΩøÁî® MTProto)„ÄÇ

## üìÖ 2026-01-30 Êõ¥Êñ∞ÊëòË¶Å

### üöÄ v1.2.2.9: CI Ê∑±Â∫¶‰ºòÂåñ & ÊµãËØïÁ®≥ÂÆöÊÄß‰øÆÂ§ç
- **CI Ê∑±Â∫¶‰ºòÂåñ**:
    - **Ë∂ÖÊó∂‰øÆÂ§ç**: Âú®Êú¨Âú∞Âèä GitHub CI ÈÖçÁΩÆ‰∏≠Â¢ûÂä† `--durations=10` Âíå `-vv` ÂèÇÊï∞Ôºå‰æø‰∫éÂø´ÈÄüÂÆö‰ΩçÊÖ¢ÈÄüÊµãËØïÔºå‰øÆÂ§ç‰∫ÜÂõ†ËµÑÊ∫êÊ≥ÑÈú≤ (Teardown Generator) ÂØºËá¥ÁöÑ CI 6Â∞èÊó∂Ë∂ÖÊó∂ÈóÆÈ¢ò„ÄÇ
    - **ÈÖçÁΩÆÂêåÊ≠•**: ÂÆûÁé∞ Local CI Âíå GitHub Actions ÁöÑÂÆåÂÖ®ÂèÇÊï∞ÂØπÈΩêÔºåÁ°Æ‰øùÊú¨Âú∞ÁéØÂ¢ÉËÉΩÂáÜÁ°ÆÂ§çÁé∞Á∫ø‰∏äÁöÑË∂ÖÊó∂ÂíåÈîôËØØË°å‰∏∫„ÄÇ
- **Auth Ê®°Âùó‰øÆÂ§ç**:
    - **CSRF ÊºèÊ¥û**: ‰øÆÂ§ç `test_auth_router.py` ‰∏≠ `test_refresh_token` Ëé∑Âèñ CSRF Token ÁöÑÈÄªËæëÔºåÊîπ‰∏∫‰ªé Client Cookie ÊåÅ‰πÖÂåñÂ≠òÂÇ®‰∏≠ËØªÂèñÔºåËß£ÂÜ≥‰∫Ü Response Header ‰∏¢Â§± Token ÂØºËá¥ÁöÑ 403 ÈîôËØØ„ÄÇ
- **Âü∫Á°ÄËÆæÊñΩÂ¢ûÂº∫**:
    - **Mock Á®≥ÂÅ•ÊÄß**: Â¢ûÂº∫ `conftest.py` ‰∏≠ÁöÑ `AsyncSafeMock`Ôºå‰ΩøÂÖ∂ÈÄíÂΩíËøîÂõû `AsyncMock` ‰ª•ÂÖºÂÆπ `await` Ë°®ËææÂºèÔºåÂΩªÂ∫ïËß£ÂÜ≥‰∫Ü `object MagicMock can't be used in 'await'` ÈîôËØØ„ÄÇ
    - **Fixture ÈöîÁ¶ª**: ÈáçÊûÑ `setup_database` fixture ÁöÑÂºÇÂ∏∏Â§ÑÁêÜÈÄªËæëÔºåÂàÜÁ¶ª Setup Âíå Teardown ÁöÑ `try-except` ÂùóÔºåÈò≤Ê≠¢ Teardown Â§±Ë¥•Êó∂ÁöÑ‰∫åÊ¨° `yield` ÂºÇÂ∏∏„ÄÇ

### üöÄ v1.2.2.8: CI Resilience & Recursion Error Mitigation
- **CI Á®≥ÂÆöÊÄß‰øÆÂ§ç (RecursionError Fix)**:
    - **ÊïÖÈöúÈöîÁ¶ª**: ÂèëÁé∞ `handlers/button/callback/new_menu_callback.py` Âõ†ÂáΩÊï∞ÈÄªËæëËøá‰∫éÂ§çÊùÇÂØºËá¥ McCabe Â§çÊùÇÂ∫¶ÂàÜÊûêÂá∫Áé∞ `RecursionError`ÔºåÂ∑≤Âú® `.flake8` Âíå GitHub CI ÈÖçÁΩÆ‰∏≠Â∞ÜÂÖ∂ÊéíÈô§„ÄÇ
    - **Êú¨Âú∞ CI Â¢ûÂº∫**: Êõ¥Êñ∞ `local_ci.py` ËÑöÊú¨ÔºåÂ¢ûÂä†‰∫ÜÂØπ `RecursionError` ÁöÑÊ£ÄÊµã‰∏éËØäÊñ≠Âª∫ËÆÆÔºåÊèêÂçá‰∫ÜÊú¨Âú∞Ë¥®ÈáèÈó®Á¶ÅÁöÑÂÅ•Â£ÆÊÄß„ÄÇ
    - **ÈÖçÁΩÆÂêåÊ≠•**: ÂêåÊ≠•Êõ¥Êñ∞ `.github/workflows/ci.yml`ÔºåÁ°Æ‰øùÊú¨Âú∞‰∏é‰∫ëÁ´Ø lint ÊéíÈô§ËßÑÂàô‰∏ÄËá¥„ÄÇ
- **Lint Ê≤ªÁêÜ‰∏éËßÑËåÉ**:
    - **Èõ∂ÂÆπÂøçÊîøÁ≠ñ**: Á°Æ‰øùÈô§ÊòéÁ°ÆÊéíÈô§ÁöÑÊûÅÂ∞ëÊï∞Â§çÊùÇÊñá‰ª∂Â§ñÔºåÂÖ®Èáè‰ª£Á†ÅÈÄöËøá Flake8 ‰∏•Ê†ºÊ£ÄÊü•ÔºàGitHub ModeÔºâ„ÄÇ
    - **Â∑•Á®ãÂØπÈΩê**: ‰øùÊåÅ `.flake8` ÈÖçÁΩÆÊñá‰ª∂‰∏é CI ËÑöÊú¨ 1:1 ÂØπÈΩêÔºåÂÆûÁé∞ Production Mirroring„ÄÇ
- **Êû∂ÊûÑÂÆ°ËÆ°**:
    - **Ëá™Âä®ÂåñÈ™åËØÅ**: ÈÄöËøáÊú¨Âú∞ CI ÁöÑÊû∂ÊûÑÊ£ÄÊü• (Arch Guard)ÔºåÁ°Æ‰øùÊéíÈô§Â§çÊùÇÊñá‰ª∂ÂêéÈ°πÁõÆÊï¥‰ΩìÊû∂ÊûÑÂ±ÇÁ∫ß‰æùÁÑ∂‰∏•ÂØÜ„ÄÅÂêàËßÑ„ÄÇ

## üìÖ 2026-01-29 Êõ¥Êñ∞ÊëòË¶Å

### üöÄ v1.2.2.7: Architecture Layering Compliance & DDD Enforcement
- **Êû∂ÊûÑÂàÜÂ±Ç‰øÆÂ§ç (DDD Compliance)**:
    - **ËøùËßÑÊ∏ÖÈô§**: ÁßªÈô§ `core/helpers/common.py` ‰∏≠ÂØπ `handlers.button.settings_manager` ÁöÑÈùûÊ≥ï‰æùËµñÔºà2Â§ÑÊû∂ÊûÑËøùËßÑÔºâ„ÄÇ
    - **‰æùËµñÂÄíÁΩÆ**: Â∞Ü `get_media_settings_text` Âíå `get_ai_settings_text` ÁöÑË∞ÉÁî®ÊñπÁõ¥Êé•ÊåáÂêë `handlers.button.settings_manager`ÔºåÁ¨¶Âêà‰æùËµñÂÄíÁΩÆÂéüÂàôÔºàDIPÔºâ„ÄÇ
    - **ÂàÜÂ±ÇÈ™åËØÅ**: ÈÄöËøáÊû∂ÊûÑÂÆàÂç´ (Arch Guard) ÈùôÊÄÅÊâ´ÊèèÔºåÂÆûÁé∞Èõ∂Êû∂ÊûÑËøùËßÑÁä∂ÊÄÅ„ÄÇ
- **‰ª£Á†ÅË¥®Èáè‰øÆÂ§ç (Lint Errors)**:
    - **Êú™ÂÆö‰πâÂêçÁß∞‰øÆÂ§ç**: Âú® `filters/sender_filter.py` Âíå `middlewares/sender.py` ‰∏≠Ê∑ªÂä†Áº∫Â§±ÁöÑ `get_main_module` ÂØºÂÖ•ËØ≠Âè•Ôºà2Â§Ñ F821 ÈîôËØØÔºâ„ÄÇ
    - **ÂØºÂÖ•Ë∑ØÂæÑ‰ºòÂåñ**: Êõ¥Êñ∞ 4 ‰∏™Êñá‰ª∂ÁöÑÂØºÂÖ•ËØ≠Âè•ÔºåÁ°Æ‰øùÊ®°Âùó‰æùËµñÂÖ≥Á≥ªÊ∏ÖÊô∞‰∏îÁ¨¶ÂêàÂàÜÂ±ÇËßÑËåÉ„ÄÇ
    - **Ë¥®ÈáèÈó®Á¶Å**: ÈÄöËøáÊú¨Âú∞ CI ÁöÑ Flake8 ‰∏•Ê†ºÊ£ÄÊü•ÔºàGitHub CI ModeÔºâÔºåÂÆûÁé∞Èõ∂ lint ÈîôËØØÁä∂ÊÄÅ„ÄÇ
- **Â∑•Á®ãËßÑËåÉÂº∫Âåñ**:
    - **Êú¨Âú∞ CI ÈõÜÊàê**: ÊâßË°åÂÆåÊï¥ÁöÑÊú¨Âú∞ CI ÊµÅÁ®ãÔºàÊû∂ÊûÑÊ£ÄÊü• + ‰ª£Á†ÅË¥®ÈáèÊ£ÄÊü•ÔºâÔºåÁ°Æ‰øù‰ª£Á†ÅÊèê‰∫§ÂâçË¥®ÈáèËææÊ†á„ÄÇ
    - **PSB ÂçèËÆÆÈÅµÂæ™**: ‰∏•Ê†ºÈÅµÂæ™ Plan-Setup-Build-Verify-Report Â∑•Á®ãÁ≥ªÁªüÔºåÁ°Æ‰øùÊû∂ÊûÑÂÆåÊï¥ÊÄß„ÄÇ
    - **ÊåÅÁª≠ÊîπËøõ**: ‰∏∫ÂêéÁª≠Êû∂ÊûÑÊºîËøõÂíå‰ª£Á†ÅË¥®ÈáèËá™Âä®ÂåñÊ≤ªÁêÜÂ•†ÂÆöÂùöÂÆûÂü∫Á°Ä„ÄÇ

## üìÖ 2026-01-28 Êõ¥Êñ∞ÊëòË¶Å


### üöÄ v1.2.2.6: Code Quality Governance & Lint Standardization
- **Flake8 ÈÖçÁΩÆÊ†áÂáÜÂåñ**:
    - **ÈÖçÁΩÆÊñá‰ª∂**: Êñ∞Â¢û `.flake8` ÈÖçÁΩÆÊñá‰ª∂ÔºåÁªü‰∏ÄÈ°πÁõÆ‰ª£Á†ÅË¥®ÈáèÊ£ÄÊü•Ê†áÂáÜ„ÄÇ
    - **ÊéíÈô§ËßÑÂàô**: ÈÖçÁΩÆÊéíÈô§ `tests/temp/` Âíå `.agent/temp/` ‰∏¥Êó∂ÁõÆÂΩïÔºåÈÅøÂÖç‰∏¥Êó∂Êñá‰ª∂Ê±°Êüì lint Ê£ÄÊü•ÁªìÊûú„ÄÇ
    - **Ê£ÄÊü•ËßÑÂàô**: ‰∏•Ê†ºÈÄâÊã©ÂÖ≥ÈîÆÈîôËØØÁ±ªÂûã (E9, F63, F7, F82, F401, F811)ÔºåËÅöÁÑ¶ËØ≠Ê≥ïÈîôËØØ„ÄÅÊú™ÂÆö‰πâÂêçÁß∞ÂíåÊú™‰ΩøÁî®ÂØºÂÖ•„ÄÇ
- **Lint ÈîôËØØÂÖ®Èù¢Ê∏ÖÁêÜ**:
    - **Ëá™Âä®‰øÆÂ§ç**: ‰ΩøÁî® `fix_lint.py` Ëá™Âä®Ê∏ÖÁêÜ 7 ‰∏™Êñá‰ª∂‰∏≠ÁöÑÊú™‰ΩøÁî®ÂØºÂÖ• (F401)ÔºåÂåÖÊã¨ `handlers/button/session_management.py`„ÄÅ`handlers/button/settings_manager.py`„ÄÅ`services/rule/logic.py` Á≠â„ÄÇ
    - **ÊâãÂä®‰øÆÂ§ç**: ‰øÆÂ§ç `handlers/commands/rule_commands.py` ‰∏≠ÁöÑ `Keyword` Á±ªÊú™ÂÆö‰πâÈîôËØØ (F821)ÔºåÂú®Êñá‰ª∂È°∂ÈÉ®Ê∑ªÂä†Ê≠£Á°ÆÁöÑÂØºÂÖ•ËØ≠Âè•„ÄÇ
    - **Ë¥®ÈáèÈ™åËØÅ**: ÈÄöËøáÊú¨Âú∞ CI ‰ª£Á†ÅË¥®ÈáèÊ£ÄÊü•ÔºåÂÆûÁé∞Èõ∂ lint ÈîôËØØÁä∂ÊÄÅ„ÄÇ
- **Â∑•Á®ãËßÑËåÉÂº∫Âåñ**:
    - **Local CI ÈõÜÊàê**: Á°Æ‰øùÊâÄÊúâ‰ª£Á†ÅÊèê‰∫§ÂâçÂøÖÈ°ªÈÄöËøá flake8 Ê£ÄÊü•ÔºåÈò≤Ê≠¢‰ª£Á†ÅË¥®ÈáèÈÄÄÂåñ„ÄÇ
    - **‰∏¥Êó∂Êñá‰ª∂ÁÆ°ÁêÜ**: Âª∫Á´ã‰∏¥Êó∂Êñá‰ª∂ÈöîÁ¶ªÊú∫Âà∂ÔºåÊµãËØïËæìÂá∫Êñá‰ª∂Áªü‰∏ÄÂ≠òÊîæËá≥ `tests/temp/` ÁõÆÂΩï„ÄÇ
    - **ÊåÅÁª≠ÊîπËøõ**: ‰∏∫ÂêéÁª≠‰ª£Á†ÅË¥®ÈáèËá™Âä®ÂåñÊ≤ªÁêÜÂ•†ÂÆöÂü∫Á°ÄËÆæÊñΩ„ÄÇ

### üöÄ v1.2.2.5: Engineering System Upgrade & Local CI Integration
- **Local CI System**:
    - **Skill Set**: Implemented `local-ci` skill with `arch_guard.py` (Architecture), `fix_lint.py` (Autofix), and `local_ci.py` (Orchestrator).
    - **Workflow Integration**: Hard-linked `git-manager` to `local-ci`, prohibiting pushes unless local checks pass.
    - **Performance Guard**: Enforced strict limits (max 3 test files, no all-tests) to prevent development machine lag.
- **Architecture Guard**:
    - **Localization**: Fully localized `arch_guard.py` output to Chinese for better DX.
    - **Rule Refinement**: Relaxed dependency rules for `core` (Bootstrap/Container) to allow practical Dependency Injection wiring.
- **Code Hygiene**:
    - **Linting**: Automated unused import detection and removal via `fix_lint.py`.
    - **Encoding**: Enforced UTF-8 output across all scripts for Windows console compatibility.

### üöÄ v1.2.2.4: Critical Encoding Recovery & RSS Module Stabilization
- **Disaster Recovery (Encoding/Mojibake)**:
    - **Global Repair**: Systematically repaired widespread Mojibake (Gb18030/UTF-8 mix-ups) across `web_admin/rss/` and `tests/temp/`.
    - **Dictionary Replacement**: Restored corrupted Chinese literals (e.g., "Â®£ËØ≤Âßû" -> "Ê∑ªÂä†") using a custom heuristic dictionary.
    - **Syntax Restoration**: Fixed 50+ lines of `SyntaxError` (unterminated strings) and `IndentationError` caused by binary truncation.
- **Skill Evolution**:
    - **Encoding-Fixer 2.1**: Upgraded the `encoding-fixer` skill with new "Smart Reverse" logic to automatically detect and invert UTF-8-as-GBK errors.
    - **Self-Healing**: Implemented `health_check.py` to recursively validate Python syntax, ensuring zero residual syntax errors in the codebase.
- **Code Hygiene**:
    - **Format Compliance**: Enforced `black` formatting across all recovered files to permanently fix indentation artifacts.
    - **Artifact Cleanup**: Removed all temporary repair scripts (`fix_mojo.py`, `repair_binary.py`) and backup files (`.bak`).

## üìÖ 2026-01-26 Êõ¥Êñ∞ÊëòË¶Å

### üöÄ v1.2.2.3: Web Admin Modularization & UI Layer Refactoring (Phase 6)
- **Web Admin Modernization**:
    - **Router Splitting**: Extracted `system_router.py` into dedicated `log`, `maintain`, and `stats` routers, improving route management.
    - **Standardized API**: Enforced `ResponseSchema` across all new routers, ensuring consistent JSON responses (`{success, data, error}`).
    - **Dependency Injection**: Removed direct key access to `container` in favor of FastAPI `Depends(deps.get_*)`, decoupling the Web layer from Core.
- **Handler Decomposition**:
    - **Module Splitting**: Vertical slice of `callback_handlers.py` (900+ lines) into `modules/rule_nav`, `rule_settings`, `rule_actions`, and `sync_settings`.
    - **Logic Separation**: Handlers now strictly manage flow control, delegating business logic (rule updates, parsing) to Services.
    - **Bug Fix**: Restored missing `find_chat_by_telegram_id_variants` in `id_utils.py` to support complex chat ID lookups (e.g. -100 prefix handling).
- **UI Renderer Facade**:
    - **Refactoring**: Transformed monolithic `MenuRenderer` into a Facade that delegates to specialized renderers (`MainMenu`, `Rule`, `Settings`, `Task`).
    - **Testability**: Achieved high test coverage for individual renderers (`test_main_menu_renderer`, `test_rule_renderer`).
- **Frontend Validation**:
    - **API Compatibility**: Verified frontend `main.js` compatibility with new `ResponseSchema` structure (zero-downtime transition).

### üöÄ v1.2.2.2: Session & Settings Architecture Finalization (Phase 5)
- **SessionManager Service Migration**:
    - **Physical Relocation**: Migrated all logic from `handlers/button/session_management.py` to `services/session_service.py`, enforcing proper layering (Services > Handlers).
    - **No-Wrapper Architecture**: Eliminated the Facade pattern; `SessionService` is now the single source of truth for session state and history task coordination.
    - **Tombstone Integration**: Fully implemented state serialization hooks for graceful restarts (zero-downtime upgrades).
- **ForwardSettings Decoupling**:
    - **Service Extraction**: Extracted Global Media Settings logic into `services/forward_settings_service.py`.
    - **Separation of Concerns**: Handlers (`ForwardManager`) now strictly handle UI/Button generation, delegating all DB/Config I/O to the new Service.
    - **Cache Mechanism**: Implemented write-through caching configuration updates to minimize DB IO.
- **Stability & Hygiene**:
    - **Silent Failure Elimination**: Fixed naked `except:` blocks in Network and Dedup services; Enhanced logging observability with `exc_info=True`.
    - **Async Compliance**: Verified blocking I/O removal across the `handlers` layer.
    - **Test Coverage**: Added comprehensive unit tests for `SessionService` and `ForwardSettingsService` (covering Backpressure, State Management, and Config Persistence).

### üöÄ v1.2.2.1: Dynamic Pipeline & Controller Decoupling (Phase 4)
- **God-Class Decoupling (MenuController)**:
    - Stripped all direct SQLAlchemy dependencies and repository calls from `MenuController`.
    - Offloaded state management to `SessionService` (via `update_user_state`).
    - Delegated Rule CRUD and logic to `RuleManagementService` (implementing `clear_keywords` and `clear_replace_rules`).
    - Centralized view-model preparation in `MenuService`.
- **Full Dynamic Filter Pipeline**:
    - Replaced hardcoded middleware registry with `FilterChainFactory`.
    - Enabled per-rule dynamic assembly: Filters are now instantiated on-demand based on DB flags (e.g., `is_ai`, `only_rss`, `enable_delay`).
    - Added `process_context` to `FilterChain` to support externally injected `MessageContext`.
- **Circular Dependency & Import Hygiene**:
    - Resolved critical blocking import loops in `SenderFilter`, `AIFilter`, and `RSSFilter` by pivoting to **Lazy Local Imports**.
    - Verified clean import tree using the new `scripts/debug_import.py` utility.
- **RSS Strategy Consolidation**:
    - Eliminated the redundant legacy `rss/` root directory.
    - Unified all feed generation and media harvesting into `services/rss_service.py` using `aiohttp` (when available).
- **Test Matrix & Verification**:
    - Implemented `tests/integration/test_dynamic_filter_chain.py` verifying assembly logic for Basic, AI, and RSS-only rules.
    - Refactored legacy `tests/integration/test_pipeline_flow.py` to use `filter_registry_mock` via `unittest.mock.patch`, ensuring support for the new factory architecture.



## üìÖ 2026-01-25 Êõ¥Êñ∞ÊëòË¶Å

### üöÄ v1.2.2: Pipeline Integrity & Stability (Phase 3+)
- **Integration Tests**: Achieved 100% pass rate for Core Pipeline (Loader -> Dedup -> Filter -> Sender) with `pytest tests/integration/test_pipeline_flow.py`.
- **Model Integrity**: Restored 30+ missing fields in `ForwardRule` ORM model, ensuring exact parity with DTOs and preventing data loss.
- **Resilience**: Fixed naked `raise` in `QueueService` retry loop; Verified Circuit Breaker and Dedup Rollback mechanisms under simulated network failure.
- **Config**: Consolidated missing DB/RSS settings into `core.config`.
- **Testing**: Enhanced mock infrastructure for `mock_client.forward_messages` and `MessageContext` state tracking.

### üöÄ v1.2.1: Data Security & Core Purge (Phase 3 Completed)
- **Security**: Established a strict DTO barrier in Repository layer; ORM models are now shielded from Services and Handlers.
- **Pure Functions**: Monolithic `utils/helpers/common.py` logic migrated to `UserService` and `RuleFilterService`.
- **Domain Refinement**: Split `rule_service.py` into `query.py` and `filter.py` within `services/rule/` domain.
- **Compatibility**: Implemented Legacy Proxies for `rule_service` and `rule_management_service` for seamless transition.
- **Verification**: Built comprehensive unit tests for `UserService` and stabilized `Rule` domain tests.

### üöÄ v1.2.0: Core Architecture Overhaul (Phase 3)
- **Models**: Split monolithic `models.py` into `rule`, `chat`, `user` domains.
- **Services**: Refactored `RuleManagementService` into Facade/Logic/CRUD layers.
- **Repository**: Created `RuleRepository` with W-TinyLFU caching.
- **Database**: Introduced Alembic for migrations; fixed SQLite Enum bindings.
- **Engineering**: Added Windows Platform Adapter skill; strictly enforced Service vs Repository layering.

### ‚ôªÔ∏è ÈáçÊûÑ (Phase 2)
- **core**: comprehensive infrastructure cleanup, verification, and bug fixes in Phase 2 (f068592) @kellyson520

### üîß Â∑•ÂÖ∑/ÊñáÊ°£
- **init**: initial commit (c989f4a) @kellyson520
